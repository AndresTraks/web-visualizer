(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1MA0":function(t,e,s){"use strict";s.r(e),s.d(e,"HarwellModule",function(){return $e});var i=s("ofXK"),n=s("tyNb"),r=s("JKqQ"),o=s("NCiM"),a=s("kCbX"),l=s("uhFJ"),h=s("7G6I");class c{constructor(){this.data=new Map;for(let t=0;t<=99;t++)this.data[t]=0;this.tapeNumber=1,this.shiftPosition=0}get(t){return this.data[t]}add(t,e){let s=this.data[t]+e;0!==this.shiftPosition&&(s*=Math.pow(10,this.shiftPosition),this.shiftPosition=0);const i=Math.trunc(s);if(this.data[t]=i,9==t){const t=Math.round(Math.abs(1e8*s)%1e8);this.data[8]=t}}subtract(t,e){let s=this.data[t]-e;0!==this.shiftPosition&&(s*=Math.pow(10,this.shiftPosition),this.shiftPosition=0);const i=Math.trunc(s);if(this.data[t]=i,9==t){const t=Math.round(Math.abs(1e8*s)%1e8);this.data[8]=t}}multiply(t,e){const s=this.get(t)*this.get(e),i=Math.abs(10*s)%1e7,n=Math.trunc(s/1e7);this.data[8]=i,this.data[9]=n,this.clear(e)}divide(t,e){const s=this.get(t)/1e7,i=Math.trunc(this.get(9)/s),n=Math.trunc(this.get(9)%s);this.data[e]=i,this.data[9]=n}clear(t){this.data[t]=0,9==t&&(this.data[8]=0)}}class u{static getOperation(t){return Math.trunc(u.getOrderCode(t)/1e4)}static getAddressA(t){return Math.trunc(u.getOrderCode(t)/100)%100}static getAddressB(t){return u.getOrderCode(t)%100}static getOrderCode(t){return Math.trunc(t/1e3)}}class d{constructor(t,e){this.entries=t,this.blockEntryIndices=e,this.index=0;for(const[s,i]of e)if(i===this.index){this.blockNumber=s;break}}searchBlock(t){if(!this.blockEntryIndices.has(t))throw new Error("Block not found on tape after full loop");this.index=this.blockEntryIndices.get(t),this.blockNumber=t}read(){const t=this.peek();return this.index++,this.index>=this.entries.length&&(this.index=0),t}peek(){if(0===this.entries.length)throw new Error("No entry on tape to read.");return this.entries[this.index]}peekAhead(){return this.peekAt(this.index===this.entries.length-1?0:this.index+1)}peekAt(t){if(0===this.entries.length)throw new Error("No entry on tape to read.");return this.entries[t]}}class p{static assemble(t){const e=new Map;var s=0,i=1,n=[],r=new Map;return t.split("\n").forEach(t=>{if(s++,t.startsWith(";")||0===t.length);else if(t.startsWith("#")){const e=Number(t.substr(1));if(isNaN(e))throw Error('Expected block number, got "'+t+'" on line '+s+".");r.set(e,n.length)}else if(t.startsWith("[")&&t.endsWith("]")){const e=Number(t.substr(1,t.length-2));if(isNaN(e))throw Error('Expected block number, got "'+t+'" on line '+s+".");r.set(e,n.length)}else if("==tape"==t)0!==n.length&&(e[i]=new d(n,r),i++,n=[],r=new Map);else if(5===t.length){const e=1e3*Number(t);if(isNaN(e))throw Error('Expected number, got "'+t+'" on line '+s+".");n.push(e)}else{if(9!==t.length)throw Error('Unexpected entry "'+t+'" on line '+s+".");{const e=Number(t);if(isNaN(e))throw Error('Expected number, got "'+t+'" on line '+s+".");n.push(e)}}}),e[i]=new d(n,r),e}}class g{constructor(){this.tapes=new Map,this.state=new c,this.output=[""]}setProgram(t){this.tapes=p.assemble(t)}get currentTape(){return this.state.tapeNumber>7?null:this.tapes[this.state.tapeNumber]}get currentBlockNumber(){return null!=this.currentTape?this.currentTape.blockNumber:null}peekNextEntry(){return this.state.tapeNumber>7?this.state.get(this.state.tapeNumber):this.currentTape.peek()}readNextEntry(){if(this.state.tapeNumber>7){const t=this.state.get(this.state.tapeNumber);return this.state.tapeNumber++,t}return this.currentTape.read()}step(){if(this.state.finished)return;const t=this.readNextEntry(),e=u.getOperation(t),s=u.getAddressA(t),i=u.getAddressB(t);switch(e){case 0:this.control(s,i);break;case 1:this.add(s,i);break;case 2:this.addAndClear(s,i);break;case 3:this.subtract(s,i);break;case 4:this.subtractAndClear(s,i);break;case 5:this.multiply(s,i);break;case 6:this.divide(s,i);break;case 7:this.transferPositiveModulus(s,i);break;default:throw new Error("Unknown order "+u.getOrderCode(t))}}control(t,e){if(t>=30&&t<=39)this.searchBlock(t%10,e);else if(t>=50&&t<=59)this.state.yes&&this.searchBlock(t%10,e);else if(t>=70&&t<=79)this.state.printLayout=t%10;else{if(!(t>=81&&t<=89)){switch(t){case 1:0===e&&this.finish();case 11:return void this.testPositive(e);case 12:return void this.testNegative(e);case 21:return void this.transferControl(e);case 22:return void(this.state.yes&&this.transferControl(e))}throw new Error("Unknown control instruction 0"+t+e)}this.state.shiftPosition=-t%10+2}}add(t,e){const s=this.read(t);1!==e?this.state.add(e,s):this.print(s)}addAndClear(t,e){this.add(t,e),this.state.clear(t)}subtract(t,e){const s=this.read(t);1!==e?this.state.subtract(e,s):this.print(s)}subtractAndClear(t,e){this.subtract(t,e),this.state.clear(t)}multiply(t,e){this.state.multiply(t,e)}divide(t,e){this.state.divide(t,e)}transferPositiveModulus(t,e){this.peek(t)<0?this.subtract(t,e):this.add(t,e)}testPositive(t){this.state.yes=this.read(t)>0}testNegative(t){this.state.yes=this.read(t)<0}searchBlock(t,e){this.tapes[e].searchBlock(t)}transferControl(t){this.state.tapeNumber=t}finish(){this.state.finished=!0}print(t){const e=(t<0?"":"+")+(t/1e7).toFixed(7);switch(this.state.printLayout){case 0:this.output.push("","","","","");break;case 3:this.output[this.output.length-1]+=e+"   ";break;case 4:this.output[this.output.length-1]+=e,this.output.push("")}}peek(t){return t>0&&t<8?this.tapes[t].peekData():this.state.get(t)}peekAhead(t){return t>0&&t<8?this.tapes[t].peekAhead():this.peek(t)}read(t){return t>0&&t<8?this.tapes[t].read():this.state.get(t)}}var b=s("FCAv"),f=s("+pcE");let m=(()=>{class t extends f.a{constructor(e,s,i){super(i),this.renderingContext=i,this.statusFlag=!1,this.activeColorValue=t.activeRegisterColor,this.passiveColorValue=t.passiveRegisterColor,this.meshes=[e],this.color=this.passiveColor,this.program=i.emitterShader,this.position=s,this.worldTransform=b.a.translation(this.position)}get status(){return this.statusFlag}set status(t){this.statusFlag=t,this.color=this.statusFlag?this.activeColorValue:this.passiveColorValue}get activeColor(){return this.activeColorValue}set activeColor(t){this.activeColorValue=t,this.statusFlag&&(this.color=this.activeColorValue)}get passiveColor(){return this.passiveColorValue}set passiveColor(t){this.passiveColorValue=t,this.statusFlag||(this.color=this.passiveColorValue)}}return t.activeRegisterColor=[1,1,1,1],t.passiveRegisterColor=[.2,.2,.2,1],t.passiveStoreColor=[0,.2,0,1],t.activeStoreColor=[0,1,0,1],t.passiveReadColor=[.2,0,0,1],t.activeReadColor=[1,0,0,1],t})(),_=(()=>{class t extends f.a{constructor(e,s){super(s),this.renderingContext=s,this.meshes=[e],this.color=t.passiveColor,this.program=s.emitterShader,this.position=l.a.zero}get digit(){return this.currentDigit}set digit(t){if(this.currentDigit===t)return;this.currentDigit=t;const e=t*(2*Math.PI/10);this.worldTransform=b.a.rotationX(Math.PI/2).multiply(b.a.translation(new l.a(0,.0095,0))).multiply(b.a.rotationZ(e)).multiply(b.a.translation(this.position))}}return t.activeColor=[1,.2,.2,1],t.passiveColor=[.6,.12,.12,1],t})();class w{constructor(t){this.isActive=!1,this.indicators=t,this.hasSignDigit=9===t.length}set value(t){if(this.currentValue!==t)if(null==t?(this.setActive(!1),t=0):this.setActive(!0),this.currentValue=t,this.hasSignDigit){this.indicators[0].digit=this.getSignDigit();for(let t=0;t<8;t++)this.indicators[t+1].digit=this.getDigit(t)}else for(let e=0;e<8;e++)this.indicators[e].digit=this.getDigit(e)}getSignDigit(){return this.currentValue>=0?0:9}getDigit(t){return Math.round(Math.abs(this.currentValue)/Math.pow(10,7-t))%10}setActive(t){if(this.isActive!==t){this.isActive=t;for(const e of this.indicators)e.color=t?_.activeColor:_.passiveColor}}}let y=(()=>{class t extends a.a{static createTube(t,e){const s=2*Math.PI/10,i=[];let n=0;for(let r=0;r<10;r++){const r=new l.a(t*Math.cos(n),0,t*Math.sin(n)),o=new l.a(t*Math.cos(n),-e,t*Math.sin(n)),a=new l.a(0,-e,0),h=l.a.zero;n+=s;const c=new l.a(t*Math.cos(n),0,t*Math.sin(n)),u=new l.a(t*Math.cos(n),-e,t*Math.sin(n));this.pushTriangle(i,r,h,c),this.pushTriangle(i,a,o,u),this.pushTriangle(i,r,c,o),this.pushTriangle(i,o,c,u)}return i}static createTubeRow(t){const e=[],s=this.createTube(this.tubeRadius,this.tubeHeight);let i=new l.a(-.23,0,t);for(let n=0;n<5;n++)this.appendWithOffset(e,s,i),i.x+=this.tubeDistance;i.x+=this.memoryRegisterMiddleGap;for(let n=0;n<4;n++)this.appendWithOffset(e,s,i),i.x+=this.tubeDistance;return e}static createAccumulatorTubeRow(){const t=[],e=this.createTube(this.tubeRadius,this.tubeHeight),s=new l.a(-.15,0,.1);for(let i=0;i<8;i++)this.appendWithOffset(t,e,s),s.x+=this.tubeDistance;return t}static createMemoryUnit(){const t=[];for(let e=0;e<5;e++){const s=this.createTubeRow(e*this.tubeDistance-.22);this.append(t,s)}for(let e=5;e<10;e++){const s=this.createTubeRow(e*this.tubeDistance-.165);this.append(t,s)}return t}static createAccumulator(){return this.createAccumulatorTubeRow()}}return t.tubeDistance=.0425,t.tubeRadius=.015,t.tubeHeight=.05,t.memoryRegisterMiddleGap=.1,t})();class v extends f.a{constructor(t,e,s,i,n,r){super(r),this.position=n;const h=f.a.withMesh(t,r);h.color=[.5,.5,.5,1],h.worldTransform=b.a.rotationX(Math.PI/2).multiply(b.a.translation(n));const c=f.a.withMesh(new o.a(a.a.createBox(new l.a(.25,.25,.1)),this.gl),r);c.color=[.5,.5,.5,1],c.worldTransform=b.a.translation(n.add(new l.a(0,0,-.15)));const u=f.a.withMesh(e,r);u.color=[.2,.2,.2,1],u.worldTransform=b.a.rotationX(Math.PI/2).multiply(b.a.translation(n));const d=f.a.withMesh(new o.a(a.a.createBox(new l.a(.05,.035,.02)),this.gl),r);d.color=[.2,.2,.2,1],d.worldTransform=b.a.translation(n.add(new l.a(.01,0,0))),this.children=[h,c,u,d],this.createRegisters(s,r),this.createStatusLights(i,r)}createStatusLights(t,e){this.storeStatusLight=this.createStatusLight(this.position.add(new l.a(-.02,.015,.02)),t,e),this.storeStatusLight.activeColor=m.activeStoreColor,this.storeStatusLight.passiveColor=m.passiveStoreColor,this.readStatusLight=this.createStatusLight(this.position.add(new l.a(.04,.015,.02)),t,e),this.readStatusLight.activeColor=m.activeReadColor,this.readStatusLight.passiveColor=m.passiveReadColor,this.statusLights=[this.createStatusLight(this.position.add(new l.a(0,.015,.02)),t,e),this.createStatusLight(this.position.add(new l.a(.02,.015,.02)),t,e),this.createStatusLight(this.position.add(new l.a(-.02,0,.02)),t,e),this.createStatusLight(this.position.add(new l.a(0,0,.02)),t,e),this.createStatusLight(this.position.add(new l.a(.02,0,.02)),t,e),this.createStatusLight(this.position.add(new l.a(.04,0,.02)),t,e),this.createStatusLight(this.position.add(new l.a(-.02,-.015,.02)),t,e),this.createStatusLight(this.position.add(new l.a(0,-.015,.02)),t,e),this.createStatusLight(this.position.add(new l.a(.02,-.015,.02)),t,e),this.createStatusLight(this.position.add(new l.a(.04,-.015,.02)),t,e)]}createStatusLight(t,e,s){return new m(e,t,s)}createRegisters(t,e){this.registers=[];let s=this.position.add(new l.a(-.23,-.2175,0));for(let i=0;i<5;i++){const n=this.createIndicators(t,e),r=new w(n);this.setIndicatorPositions(r,s),this.registers[i]=r,s=s.add(new l.a(0,y.tubeDistance,0))}s=s.add(new l.a(0,.055,0));for(let i=5;i<10;i++){const n=this.createIndicators(t,e),r=new w(n);this.setIndicatorPositions(r,s),this.registers[i]=r,s=s.add(new l.a(0,y.tubeDistance,0))}}createIndicators(t,e){const s=[];for(let i=0;i<9;i++)s[i]=new _(t,e);return s}setIndicatorPositions(t,e){const s=e.copy();for(let i=0;i<5;i++)t.indicators[i].position=s.copy(),s.x+=y.tubeDistance;s.x+=y.memoryRegisterMiddleGap;for(let i=5;i<9;i++)t.indicators[i].position=s.copy(),s.x+=y.tubeDistance}draw(){this.children.forEach(t=>{t.draw()}),this.renderingContext.emitterShader.use(),this.registers.forEach(t=>{for(const e of t.indicators)e.draw()}),this.storeStatusLight.draw(),this.readStatusLight.draw(),this.statusLights.forEach(t=>{t.draw()}),this.renderingContext.standardShader.use()}}class C{constructor(t){this.processor=t}disassemble(t){return(t/1e3).toString().padStart(5,"0")+" "+this.disassembleInstruction(t)}disassembleInstruction(t){switch(u.getOperation(t)){case 0:return this.disassembleControl(t);case 1:return this.disassembleAdd(t);case 2:return this.disassembleAddAndClear(t);case 3:return this.disassembleSubtract(t);case 4:return this.disassembleSubtractAndClear(t);case 5:return this.disassembleMultiply(t);case 6:return this.disassembleDivide(t);case 7:return this.disassembleTransferPositiveModulus(t);default:throw new Error("Unknown order "+u.getOrderCode(t))}}disassembleControl(t){const e=u.getAddressA(t),s=u.getAddressB(t);if(e>=30&&e<=39)return"SEARCH for block "+e%10+" on tape "+s;if(e>=50&&e<=59)return"CONDITIONAL SEARCH for block "+e%10+" on tape "+s+" ("+(this.processor.state.yes?"YES":"NO")+")";if(e>=70&&e<=79)return"PRINT LAYOUT "+e%10;if(e>=81&&e<=89){const t=-e%10+2;return"SELECT SHIFT POSITION "+String.fromCharCode("A".charCodeAt(0)-t+1)+" (10^"+t+")"}switch(e){case 1:if(0===s)return"FINISH";case 11:return"TEST POSITIVE ["+s+"] ("+this.format(this.processor.peek(s))+")";case 12:return"TEST NEGATIVE ["+s+"] ("+this.format(this.processor.peek(s))+")";case 21:return"TRANSFER to "+(s<10?"tape ":"")+s;case 22:return"CONDITIONAL TRANSFER to "+s+" ("+(this.processor.state.yes?"YES":"NO")+")";case 85:return"SHIFT";default:throw new Error("Unknown control order "+u.getOrderCode(t))}}disassembleAdd(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peekAhead(e),n=this.format(i);if(1===s)return"PRINT ["+e+"] ("+n+")";const r=this.processor.peek(s);return"["+s+"] += ["+e+"] ("+this.format(r)+" + "+n+" = "+this.format(r+i)+")"}disassembleAddAndClear(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peekAhead(e),n=this.format(i);if(0===s)return"CLEAR ["+e+"] ("+n+")";if(1===s)return"PRINT ["+e+"] ("+n+")";const r=this.processor.peek(s);return"["+s+"] += ["+e+"]; CLEAR ["+e+"] ("+this.format(r)+" + "+n+" = "+this.format(r+i)+")"}disassembleSubtract(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peekAhead(e),n=this.format(i);if(0===s)return"CLEAR ["+e+"] ("+n+")";if(1===s)return"PRINT ["+e+"] ("+n+")";const r=this.processor.peek(s);return"["+s+"] -= ["+e+"]; CLEAR ["+e+"] ("+this.format(r)+" - "+n+" = "+this.format(r-i)+")"}disassembleSubtractAndClear(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peekAhead(e),n=this.processor.peek(s);return"["+s+"] -= ["+e+"] ("+this.format(n)+" - "+this.format(i)+" = "+this.format(n-i)+")"}disassembleMultiply(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peek(e),n=this.processor.peek(s);return"[09] = ["+e+"] * ["+s+"] ("+this.format(n)+" * "+this.format(n)+" = "+this.format(i*n/1e7)+")"}disassembleDivide(t){const e=u.getAddressA(t),s=u.getAddressB(t),i=this.processor.peek(9),n=this.processor.peek(e),r=this.format(i),o=this.format(n);return"["+s+"] = [09] / ["+e+"] ("+r+" / "+o+" = "+this.format(i/n*1e7)+"); [09] = [09] % ["+e+"] ("+r+" % "+o+" = "+this.format(i%n)+")"}disassembleTransferPositiveModulus(t){const e=u.getAddressA(t);return this.processor.peek(e)<0?"TRANSFER POSITIVE MODULUS: "+this.disassembleSubtract(t):"TRANSFER POSITIVE MODULUS: "+this.disassembleAdd(t)}format(t){return t>=1&&t<=9?"0.000000"+t:t>=-9&&t<=-1?"-0.000000"+-t:(t/1e7).toString()}}class A{constructor(t,e,s){this.id=t,this.title=e,this.text=s}}class O{static get programList(){return[new A("1","Example program 1","\n[1]\n20900\n21000\n22000\n23000\n24000\n25000\n10110\n+10000000\n10120\n+01000000\n10130\n+15500000\n03202\n02102\n\n==tape\n[2]\n11040\n51040\n07300\n11001\n07400\n10901\n12010\n13040\n31040\n01140\n24000\n20900\n05202\n00100"),new A("2","Example program 2","\n[1]\n20900\n21000\n22000\n23000\n24000\n25000\n10110\n+05000000\n10120\n+90000000\n10130\n+10000000\n10140\n+20000000\n11050\n03202\n02102\n\n==tape\n[2]\n07400\n11001\n33020\n01220\n05303\n02203\n25009\n64050\n20900\n15010\n03202\n\n==tape\n[3]\n00100")]}}class E extends f.a{constructor(t,e,s,i,n){super(n),this.position=i;const r=f.a.withMesh(t,n);r.color=[.5,.5,.5,1],r.worldTransform=b.a.rotationX(Math.PI/2).multiply(b.a.translation(i));const h=f.a.withMesh(new o.a(a.a.createBox(new l.a(.25,.25,.1)),this.gl),n);h.color=[.5,.5,.5,1],h.worldTransform=b.a.translation(i.add(new l.a(0,0,-.15)));const c=f.a.withMesh(e,n);c.color=[.2,.2,.2,1],c.worldTransform=b.a.rotationX(Math.PI/2).multiply(b.a.translation(i)),this.children=[r,h,c],this.createRegister(s,n)}createRegister(t,e){const s=this.position.add(new l.a(-.15,-.1,0)),i=this.createIndicators(t,e);this.register=new w(i),this.setIndicatorPositions(s)}createIndicators(t,e){const s=[];for(let i=0;i<8;i++)s[i]=new _(t,e);return s}setIndicatorPositions(t){const e=t.copy();for(let s=0;s<8;s++)this.register.indicators[s].position=e.copy(),e.x+=y.tubeDistance}draw(){this.children.forEach(t=>{t.draw()}),this.renderingContext.emitterShader.use();for(const t of this.register.indicators)t.draw();this.renderingContext.standardShader.use()}}class V extends h.a{constructor(t){super(t),this.isSingleStepping=!0,this.isSingleStepDone=!0,this.isInErrorState=!1,this.programList=O.programList,this.processor=new g,this.disassembler=new C(this.processor);const e=new o.a(a.a.createCase(new l.a(.25,.05,.25)),t.gl),s=new o.a(y.createMemoryUnit(),t.gl),i=new o.a(a.a.createBox(new l.a(.0025,.003,.0036)),t.gl),n=new o.a(a.a.createBox(new l.a(.003,.003,.0036)),t.gl),r=new o.a(y.createAccumulator(),t.gl),h=this.createMemoryUnitNode(e,s,i,n,new l.a(-.5,-.5,0)),c=this.createMemoryUnitNode(e,s,i,n,new l.a(-.5,0,0)),u=this.createMemoryUnitNode(e,s,i,n,new l.a(-.5,.5,0)),d=this.createMemoryUnitNode(e,s,i,n,new l.a(-.5,1,0)),p=this.createMemoryUnitNode(e,s,i,n,new l.a(-1,-.5,0)),b=this.createMemoryUnitNode(e,s,i,n,new l.a(-1,0,0)),f=this.createMemoryUnitNode(e,s,i,n,new l.a(-1,.5,0)),m=this.createMemoryUnitNode(e,s,i,n,new l.a(-1,1,0)),_=this.createMemoryUnitNode(e,s,i,n,new l.a(-1.5,1,0));this.accumulator8=this.createAccumulatorNode(e,r,i,new l.a(0,-.35,0)),this.accumulator9=this.createAccumulatorNode(e,r,i,new l.a(0,.5,0)),this.memoryBanks=[h,c,u,d,p,b,f,m,_],this.nodes=[...this.memoryBanks,this.accumulator8,this.accumulator9],this.light.position=new l.a(.5,2,.5),this.camera.eye=new l.a(0,.5,3.3),this.camera.target=new l.a(0,.25,0),this.clearColor=[.1,.1,.1,1],this.camera.orthoScaling=2.7,this.loadFirstProgram()}createMemoryUnitNode(t,e,s,i,n){return new v(t,e,s,i,n,this.renderingContext)}createAccumulatorNode(t,e,s,i){return new E(t,e,s,i,this.renderingContext)}onProgramChange(t){this.selectedProgram=t,this.resetProgram()}loadFirstProgram(){this.onProgramChange(this.programList[0].id)}resetProgram(){this.processor.setProgram(this.findSelectedProgram().text),this.processor.output=[""],this.isSingleStepping=!0,this.isSingleStepDone=!0,this.isInErrorState=!1,this.errorText=void 0,this.processor.state.finished=!1,this.processor.state.tapeNumber=1,this.processor.state.shiftPosition=0,this.setIndicatorsPassive(),this.disassembleNextInstruction()}findSelectedProgram(){return this.programList.find(t=>t.id===this.selectedProgram)}draw(t){super.draw(t);try{this.isInErrorState||this.runProcessorForFrame()}catch(e){console.error(e),this.errorText=e.message,this.isInErrorState=!0}this.copyStateToRenderObject(),this.renderingContext.standardShader.use(),this.nodes.forEach(t=>{t.draw()})}stepProcessor(){this.isSingleStepping=!0,this.isSingleStepDone=!1}runProcessor(){this.isSingleStepping=!this.isSingleStepping}runProcessorForFrame(){this.isSingleStepping?this.isSingleStepDone||(this.processor.step(),this.disassembleNextInstruction(),this.isSingleStepDone=!0):(this.processor.step(),this.disassembleNextInstruction()),this.processor.state.finished&&(this.isSingleStepping=!0)}copyStateToRenderObject(){const t=this.processor.peekNextEntry(),e=u.getOperation(t),s=u.getAddressA(t),i=u.getAddressB(t),n=0!==e,r=2===e||4===e;this.accumulator8.register.value=this.processor.peek(8),this.accumulator9.register.value=this.processor.peek(9);for(let o=0;o<9;o++){const t=this.memoryBanks[o];let e=!1,a=!1;for(let l=0;l<10;l++){const h=10*(o+1)+l;t.registers[l].value=this.processor.peek(h);let c=!1;n&&(h==s&&(e=!0,c=!0,r&&(a=!0,c=!0)),h==i&&(a=!0,c=!0)),t.statusLights[l].status=c}t.readStatusLight.status=e,t.storeStatusLight.status=a}}setIndicatorsPassive(){for(let t=0;t<9;t++){const e=this.memoryBanks[t];for(let t=0;t<10;t++){const s=e.registers[t];0!==s.value&&void 0!==s.value||(s.value=null)}}}disassembleNextInstruction(){var t;t=this.processor.state.tapeNumber>7?this.processor.state.get(this.processor.state.tapeNumber):this.processor.currentTape.peek(),this.nextInstructionText=this.processor.state.finished?"(finished)":this.disassembler.disassemble(t),console.log(this.nextInstructionText)}}var S=s("4u2P"),k=s("fXoL"),P=s("HDdC"),x=s("EY2u"),M=s("LRne"),D=s("XNiG"),T=s("DH7j"),I=s("n6bG"),R=s("lJxs");function j(t,e,s,i){return Object(I.a)(s)&&(i=s,s=void 0),i?j(t,e,s).pipe(Object(R.a)(t=>Object(T.a)(t)?i(...t):i(t))):new P.a(i=>{L(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,s)})}function L(t,e,s,i,n){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,s,n),r=()=>i.removeEventListener(e,s,n)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,s),r=()=>i.off(e,s)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,s),r=()=>i.removeListener(e,s)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,o=t.length;r<o;r++)L(t[r],e,s,i,n)}i.add(r)}var N=s("quSY");class F extends N.a{constructor(t,e){super()}schedule(t,e=0){return this}}class B extends F{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(n){i=!0,s=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let H=(()=>{class t{constructor(e,s=t.now){this.SchedulerAction=e,this.now=s}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}return t.now=()=>Date.now(),t})();class U extends H{constructor(t,e=H.now){super(t,()=>U.delegate&&U.delegate!==this?U.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return U.delegate&&U.delegate!==this?U.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}const z=new U(B);function Q(t){return!Object(T.a)(t)&&t-parseFloat(t)+1>=0}var W=s("z+Ro");function X(t){const{index:e,period:s,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===s)return i.complete();t.index=e+1,this.schedule(t,s)}}var $=s("yCtX"),G=s("l7GE"),K=s("ZUHj");class J{call(t,e){return e.subscribe(new q(t))}}class q extends G.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){const e=t[s],i=Object(K.a)(this,e,void 0,s);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,s){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==s){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}s("2Vo4"),s("itXk"),s("KqfI");var Y=s("7o/Q"),Z=s("Lhse"),tt=s("zx2A");function et(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object($.a)(t,void 0).lift(new st(e))}class st{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new it(t,this.resultSelector))}}class it extends Y.a{constructor(t,e,s=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(T.a)(t)?e.push(new rt(t)):e.push("function"==typeof t[Z.a]?new nt(t[Z.a]()):new ot(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let e=t[s];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,s=this.destination;for(let r=0;r<e;r++){let e=t[r];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const n=[];for(let r=0;r<e;r++){let e=t[r],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void s.complete();n.push(o.value)}this.resultSelector?this._tryresultSelector(n):s.next(n),i&&s.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class nt{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class rt{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Z.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ot extends tt.b{constructor(t,e,s){super(t),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Z.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(tt.c)(this.observable,new tt.a(this))}}s("VRyK");var at=s("GyhO");function lt(t){return e=>e.lift(new ht(t))}class ht{constructor(t){this.notifier=t}call(t,e){const s=new ct(t),i=Object(tt.c)(this.notifier,new tt.a(s));return i&&!s.seenValue?(s.add(i),e.subscribe(s)):s}}class ct extends tt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var ut=s("pLZG"),dt=s("IzEk");s("JX91");var pt=s("eIep"),gt=s("vkgz");function bt(...t){return e=>{let s;return"function"==typeof t[t.length-1]&&(s=t.pop()),e.lift(new ft(t,s))}}class ft{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new mt(t,this.observables,this.project))}}class mt extends G.a{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let n=0;n<i;n++)this.toRespond.push(n);for(let n=0;n<i;n++){let t=e[n];this.add(Object(K.a)(this,t,void 0,n))}}notifyNext(t,e,s){this.values[s]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}s("5+tZ"),s("w1tV");var _t=s("Cfvw"),wt=s("XoHu");function yt(t,e){return new P.a(s=>{const i=t.length;if(0===i)return void s.complete();const n=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=Object(_t.a)(t[a]);let h=!1;s.add(l.subscribe({next:t=>{h||(h=!0,o++),n[a]=t},error:t=>s.error(t),complete:()=>{r++,r!==i&&h||(o===i&&s.next(e?e.reduce((t,e,s)=>(t[e]=n[s],t),{}):n),s.complete())}}))}})}class vt{}const Ct=new k.r("NgValueAccessor"),At={provide:Ct,useExisting:Object(k.T)(()=>Et),multi:!0},Ot=new k.r("CompositionEventMode");let Et=(()=>{class t{constructor(t,e,s){this._renderer=t,this._elementRef=e,this._compositionMode=s,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.y)()?Object(i.y)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.E),k.Lb(k.l),k.Lb(Ot,8))},t.\u0275dir=k.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&k.ac("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[k.yb([At])]}),t})();const Vt=new k.r("NgValidators"),St=new k.r("NgAsyncValidators");function kt(t){return null!=t}function Pt(t){const e=Object(k.qb)(t)?Object(_t.a)(t):t;return Object(k.pb)(e),e}function xt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mt(t,e){return e.map(e=>e(t))}function Dt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Tt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(kt);return 0==e.length?null:function(t){return xt(Mt(t,e))}}(Dt(t)):null}function It(t){return null!=t?function(t){if(!t)return null;const e=t.filter(kt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(T.a)(e))return yt(e,null);if(Object(wt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return yt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return yt(t=1===t.length&&Object(T.a)(t[0])?t[0]:t,null).pipe(Object(R.a)(t=>e(...t)))}return yt(t,null)}(Mt(t,e).map(Pt)).pipe(Object(R.a)(xt))}}(Dt(t)):null}function Rt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let jt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=k.Gb({type:t}),t})(),Lt=(()=>{class t extends jt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Nt(e||t)},t.\u0275dir=k.Gb({type:t,features:[k.wb]}),t})();const Nt=k.Sb(Lt);class Ft extends jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Bt=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,s;return!!(null===(s=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===s?void 0:s[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(Ft,2))},t.\u0275dir=k.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&k.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[k.wb]}),t})();function Ht(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ut(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zt(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}function Qt(t){return(Gt(t)?t.validators:t)||null}function Wt(t){return Array.isArray(t)?Tt(t):t||null}function Xt(t,e){return(Gt(e)?e.asyncValidators:t)||null}function $t(t){return Array.isArray(t)?It(t):t||null}function Gt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Wt(this._rawValidators),this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Wt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$t(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Pt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,s){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof qt?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Yt&&i.at(t)||null}),i}(this,t)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new k.n,this.statusChanges=new k.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jt extends Kt{constructor(t=null,e,s){super(Qt(e),Xt(s,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!s})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class qt extends Kt{constructor(t,e,s){super(Qt(e),Xt(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!s})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,i)=>{s.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e instanceof Jt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((t,i)=>{s=e(s,t,i)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Yt extends Kt{constructor(t,e,s){super(Qt(e),Xt(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!s})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,s)=>{this.at(s)&&this.at(s).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,i)=>{s.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Jt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Zt={provide:Ft,useExisting:Object(k.T)(()=>ee)},te=(()=>Promise.resolve(null))();let ee=(()=>{class t extends Ft{constructor(t,e,s,i){super(),this.control=new Jt,this._registered=!1,this.update=new k.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(s),this.valueAccessor=function(t,e){if(!e)return null;let s,i,n;return Array.isArray(e),e.forEach(t=>{t.constructor===Et?s=t:Object.getPrototypeOf(t.constructor)===vt?i=t:n=t}),n||i||s||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const s=t.model;return!!s.isFirstChange()||!Object.is(e,s.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,s){const i=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Rt(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const n=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Rt(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);{const s=()=>t.updateValueAndValidity();Ht(e._rawValidators,s),Ht(e._rawAsyncValidators,s)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(s=>{t._pendingValue=s,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ut(t,e)})}(t,e),function(t,e){const s=(t,s)=>{e.valueAccessor.writeValue(t),s&&e.viewToModelUpdate(t)};t.registerOnChange(s),e._registerOnDestroy(()=>{t._unregisterOnChange(s)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ut(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const s=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(s),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(s)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){te.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,s=""===e||e&&"false"!==e;te.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(Lt,9),k.Lb(Vt,10),k.Lb(St,10),k.Lb(Ct,10))},t.\u0275dir=k.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[k.yb([Zt]),k.wb,k.xb]}),t})(),se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({}),t})();const ie={provide:Ct,useExisting:Object(k.T)(()=>re),multi:!0};function ne(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let re=(()=>{class t extends vt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const s=ne(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",s)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.E),k.Lb(k.l))},t.\u0275dir=k.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&k.ac("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[k.yb([ie]),k.wb]}),t})(),oe=(()=>{class t{constructor(t,e,s){this._element=t,this._renderer=e,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ne(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.l),k.Lb(k.E),k.Lb(re,9))},t.\u0275dir=k.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const ae={provide:Ct,useExisting:Object(k.T)(()=>he),multi:!0};function le(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let he=(()=>{class t extends vt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const s=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(s.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const s=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),n=this._getOptionValue(i.value);s.push(n)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);s.push(t)}}}this.value=s,t(s)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.E),k.Lb(k.l))},t.\u0275dir=k.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&k.ac("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[k.yb([ae]),k.wb]}),t})(),ce=(()=>{class t{constructor(t,e,s){this._element=t,this._renderer=e,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(le(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(le(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.l),k.Lb(k.E),k.Lb(he,9))},t.\u0275dir=k.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({imports:[[se]]}),t})(),de=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({imports:[ue]}),t})();const pe=["*"],ge=["dialog"];function be(t){return null!=t}function fe(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const me={animation:!0,transitionTimerDelayMs:5};let _e=(()=>{class t{constructor(){this.animation=me.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(k.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const we=()=>{},{transitionTimerDelayMs:ye}=me,ve=new Map,Ce=(t,e,s,i)=>{let n=i.context||{};const r=ve.get(e);if(r)switch(i.runningTransition){case"continue":return x.a;case"stop":t.run(()=>r.transition$.complete()),n=Object.assign(r.context,n),ve.delete(e)}const o=s(e,i.animation,n)||we;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(M.a)(void 0).pipe(function(t){return e=>new P.a(s=>e.subscribe(e=>t.run(()=>s.next(e)),e=>t.run(()=>s.error(e)),()=>t.run(()=>s.complete())))}(t));const a=new D.a,l=new D.a,h=a.pipe(function(...t){return e=>Object(at.a)(e,Object(M.a)(...t))}(!0));ve.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:n});const c=function(t){const{transitionDelay:e,transitionDuration:s}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(s))}(e);return t.runOutsideAngular(()=>{const s=j(e,"transitionend").pipe(lt(h),Object(ut.a)(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(T.a)(t[0]))return t[0];t=t[0]}return Object($.a)(t,void 0).lift(new J)})(function(t=0,e,s){let i=-1;return Q(e)?i=Number(e)<1?1:Number(e):Object(W.a)(e)&&(s=e),Object(W.a)(s)||(s=z),new P.a(e=>{const n=Q(t)?t:+t-s.now();return s.schedule(X,n,{index:0,period:i,subscriber:e})})}(c+ye).pipe(lt(h)),s,l).pipe(lt(h)).subscribe(()=>{ve.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var Ae=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Oe=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ee(t){const e=Array.from(t.querySelectorAll(Oe)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let s,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))s=t.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const e=this.offsetParent(t);s=this.offset(t,!1),e!==document.documentElement&&(i=this.offset(e,!1)),i.top+=e.clientTop,i.left+=e.clientLeft}return s.top-=i.top,s.bottom-=i.top,s.left-=i.left,s.right-=i.left,e&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(t,e=!0){const s=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,n=window.pageXOffset-document.documentElement.clientLeft;let r={height:s.height||t.offsetHeight,width:s.width||t.offsetWidth,top:s.top+i,bottom:s.bottom+i,left:s.left+n,right:s.right+n};return e&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(t,e,s,i){const[n="top",r="center"]=s.split("-"),o=i?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),l=parseFloat(a.marginTop),h=parseFloat(a.marginBottom),c=parseFloat(a.marginLeft),u=parseFloat(a.marginRight);let d=0,p=0;switch(n){case"top":d=o.top-(e.offsetHeight+l+h);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+c+u);break;case"right":p=o.left+o.width}switch(r){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===n||"bottom"===n?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const g=e.getBoundingClientRect(),b=document.documentElement,f=window.innerHeight||b.clientHeight,m=window.innerWidth||b.clientWidth;return g.left>=0&&g.top>=0&&g.right<=m&&g.bottom<=f}},new Date(1882,10,12),new Date(2174,10,25);let Ve=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(k.Xb(_e))},t.\u0275prov=Object(k.Hb)({factory:function(){return new t(Object(k.Xb)(_e))},token:t,providedIn:"root"}),t})();class Se{constructor(t,e,s){this.nodes=t,this.viewRef=e,this.componentRef=s}}const ke=()=>{};let Pe=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):ke}_adjustBody(t){const e=this._document.body,s=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${i+t}px`,()=>e.style["padding-right"]=s}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),s}}return t.\u0275fac=function(e){return new(e||t)(k.Xb(i.c))},t.\u0275prov=Object(k.Hb)({factory:function(){return new t(Object(k.Xb)(i.c))},token:t,providedIn:"root"}),t})(),xe=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(dt.a)(1)).subscribe(()=>{Ce(this._zone,this._el.nativeElement,(t,e)=>{e&&fe(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ce(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(k.l),k.Lb(k.A))},t.\u0275cmp=k.Fb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(k.Bb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),k.Db("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Me{close(t){}dismiss(t){}}class De{constructor(t,e,s,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=s,this._beforeDismiss=i,this._closed=new D.a,this._dismissed=new D.a,this._hidden=new D.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(lt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(lt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(M.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),et(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Te=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Ie=(()=>{class t{constructor(t,e,s){this._document=t,this._elRef=e,this._zone=s,this._closed$=new D.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new k.n,this.shown=new D.a,this.hidden=new D.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},s=et(Ce(this._zone,t,()=>t.classList.remove("show"),e),Ce(this._zone,this._dialogEl.nativeElement,()=>{},e));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};et(Ce(this._zone,this._elRef.nativeElement,(t,e)=>{e&&fe(t),t.classList.add("show")},t),Ce(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{j(t,"keydown").pipe(lt(this._closed$),Object(ut.a)(t=>t.which===Ae.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Te.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;j(this._dialogEl.nativeElement,"mousedown").pipe(lt(this._closed$),Object(gt.a)(()=>e=!1),Object(pt.a)(()=>j(t,"mouseup").pipe(lt(this._closed$),Object(dt.a)(1))),Object(ut.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),j(t,"click").pipe(lt(this._closed$)).subscribe(({target:s})=>{t===s&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Te.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),s=Ee(t)[0];(e||s||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let s;s=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ce(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(i.c),k.Lb(k.l),k.Lb(k.A))},t.\u0275cmp=k.Fb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&k.zc(ge,3),2&t){let t;k.nc(t=k.bc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(k.Ab("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),k.Bb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),k.Db("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(k.gc(),k.Qb(0,"div",0,1),k.Qb(2,"div",2),k.fc(3),k.Pb(),k.Pb()),2&t&&k.Bb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Re=(()=>{class t{constructor(t,e,s,i,n,r){this._applicationRef=t,this._injector=e,this._document=s,this._scrollBar=i,this._rendererFactory=n,this._ngZone=r,this._activeWindowCmptHasChanged=new D.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new k.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,s,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=j(e,"focusin").pipe(lt(s),Object(R.a)(t=>t.target));j(e,"keydown").pipe(lt(s),Object(ut.a)(t=>t.which===Ae.Tab),bt(t)).subscribe(([t,s])=>{const[i,n]=Ee(e);s!==i&&s!==e||!t.shiftKey||(n.focus(),t.preventDefault()),s!==n||t.shiftKey||(i.focus(),t.preventDefault())}),i&&j(e,"click").pipe(lt(s),bt(t),Object(R.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,s,i){const n=i.container instanceof HTMLElement?i.container:be(i.container)?this._document.querySelector(i.container):this._document.body,r=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(r.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!n)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const l=new Me,h=this._getContentRef(t,i.injector||e,s,l,i);let c=!1!==i.backdrop?this._attachBackdrop(t,n):void 0,u=this._attachWindowComponent(t,n,h),d=new De(u,h,c,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.result.then(o,o),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(u.instance,i),1===this._modalRefs.length&&r.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,i),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let s=t.resolveComponentFactory(xe).create(this._injector);return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,e,s){let i=t.resolveComponentFactory(Ie).create(this._injector,s.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,e){this._windowAttributes.forEach(s=>{be(e[s])&&(t[s]=e[s])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(s=>{be(e[s])&&(t[s]=e[s])})}_getContentRef(t,e,s,i,n){return s?s instanceof k.L?this._createFromTemplateRef(s,i):"string"==typeof s?this._createFromString(s):this._createFromComponent(t,e,s,i,n):new Se([])}_createFromTemplateRef(t,e){const s=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(s),new Se([s.rootNodes],s)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Se([[e]])}_createFromComponent(t,e,s,i,n){const r=t.resolveComponentFactory(s),o=k.s.create({providers:[{provide:Me,useValue:i}],parent:e}),a=r.create(o),l=a.location.nativeElement;return n.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Se([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(k.Xb(k.g),k.Xb(k.s),k.Xb(i.c),k.Xb(Pe),k.Xb(k.F),k.Xb(k.A))},t.\u0275prov=Object(k.Hb)({factory:function(){return new t(Object(k.Xb)(k.g),Object(k.Xb)(k.o),Object(k.Xb)(i.c),Object(k.Xb)(Pe),Object(k.Xb)(k.F),Object(k.Xb)(k.A))},token:t,providedIn:"root"}),t})(),je=(()=>{class t{constructor(t,e,s,i){this._moduleCFR=t,this._injector=e,this._modalStack=s,this._config=i}open(t,e={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(k.Xb(k.j),k.Xb(k.s),k.Xb(Re),k.Xb(Ve))},t.\u0275prov=Object(k.Hb)({factory:function(){return new t(Object(k.Xb)(k.j),Object(k.Xb)(k.o),Object(k.Xb)(Re),Object(k.Xb)(Ve))},token:t,providedIn:"root"}),t})();function Le(t,e){if(1&t&&(k.Qb(0,"p",9),k.vc(1),k.Pb()),2&t){const t=k.cc();k.zb(1),k.wc(t.errorText)}}new k.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Ne=(()=>{class t{constructor(t){this.modalService=t}ngOnInit(){this.programText=this.program.text}save(){try{p.assemble(this.programText)}catch(t){return this.errorText=t.message,void console.log(t.message)}this.program.text=this.programText,this.dismiss()}dismiss(){this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(je))},t.\u0275cmp=k.Fb({type:t,selectors:[["tape-editor-component"]],inputs:{program:"program"},decls:13,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["rows","20","name","programText",2,"width","100%",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"text-danger"]],template:function(t,e){1&t&&(k.Qb(0,"div",0),k.Qb(1,"h4",1),k.vc(2),k.Pb(),k.Qb(3,"button",2),k.ac("click",function(){return e.dismiss()}),k.Qb(4,"span",3),k.vc(5,"\xd7"),k.Pb(),k.Pb(),k.Pb(),k.Qb(6,"div",4),k.Qb(7,"textarea",5),k.ac("ngModelChange",function(t){return e.programText=t}),k.vc(8,"    "),k.Pb(),k.tc(9,Le,2,1,"p",6),k.Pb(),k.Qb(10,"div",7),k.Qb(11,"button",8),k.ac("click",function(){return e.save()}),k.vc(12,"Save"),k.Pb(),k.Pb()),2&t&&(k.zb(2),k.xc("Tape editor: ",e.program.title,""),k.zb(5),k.hc("ngModel",e.programText),k.zb(2),k.hc("ngIf",e.errorText))},directives:[Et,Bt,ee,i.k],encapsulation:2}),t})();var Fe=s("jhN1"),Be=s("S8xs");function He(t,e){if(1&t&&(k.Qb(0,"option",18),k.vc(1),k.Pb()),2&t){const t=e.$implicit;k.hc("value",t.id),k.zb(1),k.wc(t.title)}}function Ue(t,e){if(1&t&&(k.Qb(0,"p",19),k.vc(1),k.Pb()),2&t){const t=k.cc();k.zb(1),k.wc(t.scene.errorText)}}function ze(t,e){if(1&t&&(k.Qb(0,"p",13),k.vc(1),k.Mb(2,"br"),k.Pb()),2&t){const t=e.$implicit;k.zb(1),k.wc(t)}}const Qe=[{path:"",component:(()=>{class t{constructor(t,e){this.titleService=t,this.modalService=e,this.isOrtographicProjection=!1,t.setTitle("Harwell Dekatron")}ngOnInit(){const t=this.appCanvas.surface.nativeElement.getContext("webgl");if(t){const e=new S.a(t);this.scene=new V(e),this.appCanvas.setScene(this.scene)}}onChangeOrtographicProjection(){this.isOrtographicProjection=!this.isOrtographicProjection,this.scene.camera.orthographic=this.isOrtographicProjection}editTape(){this.modalService.open(Ne).componentInstance.program=this.scene.findSelectedProgram()}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(Fe.b),k.Lb(je))},t.\u0275cmp=k.Fb({type:t,selectors:[["harwell-component"]],viewQuery:function(t,e){if(1&t&&k.zc(r.a,3),2&t){let t;k.nc(t=k.bc())&&(e.appCanvas=t.first)}},decls:45,vars:13,consts:[["id","bodyContainer"],["id","leftPanel"],[3,"isAnimated"],[3,"isOpen"],["accordion-heading","","type","button",1,"btn","btn-link","btn-block","clearfix"],[1,"badge","badge-arrow","float-left"],[1,"float-left"],[1,"mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-toolbar","mb-3"],["type","button",1,"btn","btn-primary","btn-sm","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-4",3,"disabled","click"],[1,"mb-0"],[2,"min-height","5em"],["class","text-danger",4,"ngIf"],["class","mb-0",4,"ngFor","ngForOf"],["value","ds","type","checkbox",3,"checked","change"],[3,"value"],[1,"text-danger"]],template:function(t,e){1&t&&(k.Qb(0,"div",0),k.Qb(1,"div",1),k.Qb(2,"accordion",2),k.Qb(3,"accordion-group",3),k.Qb(4,"button",4),k.Qb(5,"span",5),k.vc(6,"\u2b9e"),k.Pb(),k.Qb(7,"span",6),k.vc(8,"Control"),k.Pb(),k.Pb(),k.Qb(9,"select",7),k.ac("change",function(t){return e.scene.onProgramChange(t.target.value)}),k.tc(10,He,2,2,"option",8),k.Pb(),k.Qb(11,"div",9),k.Qb(12,"button",10),k.ac("click",function(){return e.editTape()}),k.vc(13,"Edit "),k.Pb(),k.Qb(14,"button",10),k.ac("click",function(){return e.scene.resetProgram()}),k.vc(15,"Reload "),k.Pb(),k.Pb(),k.Mb(16,"hr"),k.Qb(17,"div",9),k.Qb(18,"button",11),k.ac("click",function(){return e.scene.stepProcessor()}),k.vc(19,"Step"),k.Pb(),k.Qb(20,"button",12),k.ac("click",function(){return e.scene.runProcessor()}),k.vc(21),k.Pb(),k.Mb(22,"br"),k.Pb(),k.Qb(23,"p",13),k.vc(24),k.Pb(),k.Qb(25,"p",14),k.vc(26),k.Pb(),k.tc(27,Ue,2,1,"p",15),k.Pb(),k.Qb(28,"accordion-group",3),k.Qb(29,"button",4),k.Qb(30,"span",5),k.vc(31,"\u2b9e"),k.Pb(),k.Qb(32,"span",6),k.vc(33,"Output"),k.Pb(),k.Pb(),k.tc(34,ze,3,1,"p",16),k.Pb(),k.Qb(35,"accordion-group"),k.Qb(36,"button",4),k.Qb(37,"span",5),k.vc(38,"\u2b9e"),k.Pb(),k.Qb(39,"span",6),k.vc(40,"Settings"),k.Pb(),k.Pb(),k.Qb(41,"label"),k.Qb(42,"input",17),k.ac("change",function(){return e.onChangeOrtographicProjection()}),k.Pb(),k.vc(43," Orthographic projection "),k.Pb(),k.Pb(),k.Pb(),k.Pb(),k.Mb(44,"app-canvas"),k.Pb()),2&t&&(k.zb(2),k.hc("isAnimated",!0),k.zb(1),k.hc("isOpen",!0),k.zb(7),k.hc("ngForOf",e.scene.programList),k.zb(8),k.hc("disabled",e.scene.processor.state.finished),k.zb(2),k.hc("disabled",e.scene.processor.state.finished),k.zb(1),k.xc(" ",e.scene.isSingleStepping?"Run":"Stop"," "),k.zb(3),k.yc("Tape ",e.scene.processor.state.tapeNumber,", block ",e.scene.processor.currentBlockNumber,""),k.zb(2),k.xc("Order: ",e.scene.nextInstructionText,""),k.zb(1),k.hc("ngIf",e.scene.isInErrorState),k.zb(1),k.hc("isOpen",!0),k.zb(6),k.hc("ngForOf",e.scene.processor.output),k.zb(8),k.hc("checked",e.isOrtographicProjection))},directives:[Be.a,Be.c,i.j,i.k,r.a,oe,ce],styles:["#leftPanel[_ngcontent-%COMP%]{width:350px;height:768px;float:left;overflow-y:auto;white-space:normal}#bodyContainer[_ngcontent-%COMP%]{white-space:nowrap}.badge-arrow[_ngcontent-%COMP%]{margin-top:4px;transition-duration:.2s;transition-property:transform}.panel-open[_ngcontent-%COMP%]   .badge-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}ul[_ngcontent-%COMP%]{padding-left:25px}.gear-group-a[_ngcontent-%COMP%]{background-color:#99801a}.gear-group-l[_ngcontent-%COMP%]{background-color:#e6801a}.gear-group-n[_ngcontent-%COMP%]{background-color:#40bf4d}.gear-group-o[_ngcontent-%COMP%]{background-color:#fff}.gear-group-p[_ngcontent-%COMP%]{background-color:#80bf33}.gear-group-e[_ngcontent-%COMP%]{background-color:#7366b3}.gear-group-h[_ngcontent-%COMP%]{background-color:#a666b3}.gear-group-c[_ngcontent-%COMP%]{background-color:#80bfe6}.gear-group-k[_ngcontent-%COMP%]{background-color:#73ccbf}"]}),t})()}];let We=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({imports:[[n.a.forChild(Qe)],n.a]}),t})();var Xe=s("YP2Z");let $e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({imports:[[i.b,We,Xe.a,Be.b.forRoot(),de]]}),t})()}}]);