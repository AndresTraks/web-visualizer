!function(){function t(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,n,i||t)}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1MA0":function(i,o,l){"use strict";l.r(o),l.d(o,"HarwellModule",function(){return Sn});var h,f,v,g=l("ofXK"),y=l("tyNb"),b=l("JKqQ"),m=l("NCiM"),_=l("kCbX"),k=l("uhFJ"),w=l("7G6I"),C=function(){function t(){d(this,t),this.data=new Map;for(var e=0;e<=99;e++)this.data[e]=0;this.tapeNumber=1,this.shiftPosition=0}return p(t,[{key:"get",value:function(t){return this.data[t]}},{key:"add",value:function(t,e){var n=this.data[t]+e;0!==this.shiftPosition&&(n*=Math.pow(10,this.shiftPosition),this.shiftPosition=0);var i=Math.trunc(n);if(this.data[t]=i,9==t){var r=Math.round(Math.abs(1e8*n)%1e8);this.data[8]=r}}},{key:"subtract",value:function(t,e){var n=this.data[t]-e;0!==this.shiftPosition&&(n*=Math.pow(10,this.shiftPosition),this.shiftPosition=0);var i=Math.trunc(n);if(this.data[t]=i,9==t){var r=Math.round(Math.abs(1e8*n)%1e8);this.data[8]=r}}},{key:"multiply",value:function(t,e){var n=this.get(t)*this.get(e),i=Math.abs(10*n)%1e7,r=Math.trunc(n/1e7);this.data[8]=i,this.data[9]=r,this.clear(e)}},{key:"divide",value:function(t,e){var n=this.get(t)/1e7,i=Math.trunc(this.get(9)/n),r=Math.trunc(this.get(9)%n);this.data[e]=i,this.data[9]=r}},{key:"clear",value:function(t){this.data[t]=0,9==t&&(this.data[8]=0)}}]),t}(),A=function(){function t(){d(this,t)}return p(t,null,[{key:"getOperation",value:function(e){return Math.trunc(t.getOrderCode(e)/1e4)}},{key:"getAddressA",value:function(e){return Math.trunc(t.getOrderCode(e)/100)%100}},{key:"getAddressB",value:function(e){return t.getOrderCode(e)%100}},{key:"getOrderCode",value:function(t){return Math.trunc(t/1e3)}}]),t}(),O=function(){function t(e,n){d(this,t),this.entries=e,this.blockEntryIndices=n,this.index=0;var i,r=c(n);try{for(r.s();!(i=r.n()).done;){var o=u(i.value,2),s=o[0];if(o[1]===this.index){this.blockNumber=s;break}}}catch(a){r.e(a)}finally{r.f()}}return p(t,[{key:"searchBlock",value:function(t){if(!this.blockEntryIndices.has(t))throw new Error("Block not found on tape after full loop");this.index=this.blockEntryIndices.get(t),this.blockNumber=t}},{key:"read",value:function(){var t=this.peek();return this.index++,this.index>=this.entries.length&&(this.index=0),t}},{key:"peek",value:function(){if(0===this.entries.length)throw new Error("No entry on tape to read.");return this.entries[this.index]}},{key:"peekAhead",value:function(){return this.peekAt(this.index===this.entries.length-1?0:this.index+1)}},{key:"peekAt",value:function(t){if(0===this.entries.length)throw new Error("No entry on tape to read.");return this.entries[t]}}]),t}(),E=function(){function t(){d(this,t)}return p(t,null,[{key:"assemble",value:function(t){var e=new Map,n=0,i=1,r=[],o=new Map;return t.split("\n").forEach(function(t){if(n++,t.startsWith(";")||0===t.length);else if(t.startsWith("#")){var s=Number(t.substr(1));if(isNaN(s))throw Error('Expected block number, got "'+t+'" on line '+n+".");o.set(s,r.length)}else if(t.startsWith("[")&&t.endsWith("]")){var a=Number(t.substr(1,t.length-2));if(isNaN(a))throw Error('Expected block number, got "'+t+'" on line '+n+".");o.set(a,r.length)}else if("==tape"==t)0!==r.length&&(e[i]=new O(r,o),i++,r=[],o=new Map);else if(5===t.length){var u=1e3*Number(t);if(isNaN(u))throw Error('Expected number, got "'+t+'" on line '+n+".");r.push(u)}else{if(9!==t.length)throw Error('Unexpected entry "'+t+'" on line '+n+".");var c=Number(t);if(isNaN(c))throw Error('Expected number, got "'+t+'" on line '+n+".");r.push(c)}}),e[i]=new O(r,o),e}}]),t}(),V=function(){function t(){d(this,t),this.tapes=new Map,this.state=new C,this.output=[""]}return p(t,[{key:"setProgram",value:function(t){this.tapes=E.assemble(t)}},{key:"currentTape",get:function(){return this.state.tapeNumber>7?null:this.tapes[this.state.tapeNumber]}},{key:"currentBlockNumber",get:function(){return null!=this.currentTape?this.currentTape.blockNumber:null}},{key:"peekNextEntry",value:function(){return this.state.tapeNumber>7?this.state.get(this.state.tapeNumber):this.currentTape.peek()}},{key:"readNextEntry",value:function(){if(this.state.tapeNumber>7){var t=this.state.get(this.state.tapeNumber);return this.state.tapeNumber++,t}return this.currentTape.read()}},{key:"step",value:function(){if(!this.state.finished){var t=this.readNextEntry(),e=A.getOperation(t),n=A.getAddressA(t),i=A.getAddressB(t);switch(e){case 0:this.control(n,i);break;case 1:this.add(n,i);break;case 2:this.addAndClear(n,i);break;case 3:this.subtract(n,i);break;case 4:this.subtractAndClear(n,i);break;case 5:this.multiply(n,i);break;case 6:this.divide(n,i);break;case 7:this.transferPositiveModulus(n,i);break;default:throw new Error("Unknown order "+A.getOrderCode(t))}}}},{key:"control",value:function(t,e){if(t>=30&&t<=39)this.searchBlock(t%10,e);else if(t>=50&&t<=59)this.state.yes&&this.searchBlock(t%10,e);else if(t>=70&&t<=79)this.state.printLayout=t%10;else{if(!(t>=81&&t<=89)){switch(t){case 1:0===e&&this.finish();case 11:return void this.testPositive(e);case 12:return void this.testNegative(e);case 21:return void this.transferControl(e);case 22:return void(this.state.yes&&this.transferControl(e))}throw new Error("Unknown control instruction 0"+t+e)}this.state.shiftPosition=-t%10+2}}},{key:"add",value:function(t,e){var n=this.read(t);1!==e?this.state.add(e,n):this.print(n)}},{key:"addAndClear",value:function(t,e){this.add(t,e),this.state.clear(t)}},{key:"subtract",value:function(t,e){var n=this.read(t);1!==e?this.state.subtract(e,n):this.print(n)}},{key:"subtractAndClear",value:function(t,e){this.subtract(t,e),this.state.clear(t)}},{key:"multiply",value:function(t,e){this.state.multiply(t,e)}},{key:"divide",value:function(t,e){this.state.divide(t,e)}},{key:"transferPositiveModulus",value:function(t,e){this.peek(t)<0?this.subtract(t,e):this.add(t,e)}},{key:"testPositive",value:function(t){this.state.yes=this.read(t)>0}},{key:"testNegative",value:function(t){this.state.yes=this.read(t)<0}},{key:"searchBlock",value:function(t,e){this.tapes[e].searchBlock(t)}},{key:"transferControl",value:function(t){this.state.tapeNumber=t}},{key:"finish",value:function(){this.state.finished=!0}},{key:"print",value:function(t){var e=(t<0?"":"+")+(t/1e7).toFixed(7);switch(this.state.printLayout){case 0:this.output.push("","","","","");break;case 3:this.output[this.output.length-1]+=e+"   ";break;case 4:this.output[this.output.length-1]+=e,this.output.push("")}}},{key:"peek",value:function(t){return t>0&&t<8?this.tapes[t].peekData():this.state.get(t)}},{key:"peekAhead",value:function(t){return t>0&&t<8?this.tapes[t].peekAhead():this.peek(t)}},{key:"read",value:function(t){return t>0&&t<8?this.tapes[t].read():this.state.get(t)}}]),t}(),S=l("FCAv"),P=l("+pcE"),x=((f=function(t){n(i,t);var e=r(i);function i(t,n,r){var o;return d(this,i),(o=e.call(this,r)).renderingContext=r,o.statusFlag=!1,o.activeColorValue=i.activeRegisterColor,o.passiveColorValue=i.passiveRegisterColor,o.meshes=[t],o.color=o.passiveColor,o.program=r.emitterShader,o.position=n,o.worldTransform=S.a.translation(o.position),o}return p(i,[{key:"status",get:function(){return this.statusFlag},set:function(t){this.statusFlag=t,this.color=this.statusFlag?this.activeColorValue:this.passiveColorValue}},{key:"activeColor",get:function(){return this.activeColorValue},set:function(t){this.activeColorValue=t,this.statusFlag&&(this.color=this.activeColorValue)}},{key:"passiveColor",get:function(){return this.passiveColorValue},set:function(t){this.passiveColorValue=t,this.statusFlag||(this.color=this.passiveColorValue)}}]),i}(P.a)).activeRegisterColor=[1,1,1,1],f.passiveRegisterColor=[.2,.2,.2,1],f.passiveStoreColor=[0,.2,0,1],f.activeStoreColor=[0,1,0,1],f.passiveReadColor=[.2,0,0,1],f.activeReadColor=[1,0,0,1],f),M=((h=function(t){n(i,t);var e=r(i);function i(t,n){var r;return d(this,i),(r=e.call(this,n)).renderingContext=n,r.meshes=[t],r.color=i.passiveColor,r.program=n.emitterShader,r.position=k.a.zero,r}return p(i,[{key:"digit",get:function(){return this.currentDigit},set:function(t){if(this.currentDigit!==t){this.currentDigit=t;var e=t*(2*Math.PI/10);this.worldTransform=S.a.rotationX(Math.PI/2).multiply(S.a.translation(new k.a(0,.0095,0))).multiply(S.a.rotationZ(e)).multiply(S.a.translation(this.position))}}}]),i}(P.a)).activeColor=[1,.2,.2,1],h.passiveColor=[.6,.12,.12,1],h),I=function(){function t(e){d(this,t),this.isActive=!1,this.indicators=e,this.hasSignDigit=9===e.length}return p(t,[{key:"value",set:function(t){if(this.currentValue!==t)if(null==t?(this.setActive(!1),t=0):this.setActive(!0),this.currentValue=t,this.hasSignDigit){this.indicators[0].digit=this.getSignDigit();for(var e=0;e<8;e++)this.indicators[e+1].digit=this.getDigit(e)}else for(var n=0;n<8;n++)this.indicators[n].digit=this.getDigit(n)}},{key:"getSignDigit",value:function(){return this.currentValue>=0?0:9}},{key:"getDigit",value:function(t){return Math.round(Math.abs(this.currentValue)/Math.pow(10,7-t))%10}},{key:"setActive",value:function(t){if(this.isActive!==t){this.isActive=t;var e,n=c(this.indicators);try{for(n.s();!(e=n.n()).done;){e.value.color=t?M.activeColor:M.passiveColor}}catch(i){n.e(i)}finally{n.f()}}}}]),t}(),T=((v=function(t){n(i,t);var e=r(i);function i(){return d(this,i),e.apply(this,arguments)}return p(i,null,[{key:"createTube",value:function(t,e){for(var n=2*Math.PI/10,i=[],r=0,o=0;o<10;o++){var s=new k.a(t*Math.cos(r),0,t*Math.sin(r)),a=new k.a(t*Math.cos(r),-e,t*Math.sin(r)),u=new k.a(0,-e,0),c=k.a.zero;r+=n;var l=new k.a(t*Math.cos(r),0,t*Math.sin(r)),h=new k.a(t*Math.cos(r),-e,t*Math.sin(r));this.pushTriangle(i,s,c,l),this.pushTriangle(i,u,a,h),this.pushTriangle(i,s,l,a),this.pushTriangle(i,a,l,h)}return i}},{key:"createTubeRow",value:function(t){for(var e=[],n=this.createTube(this.tubeRadius,this.tubeHeight),i=new k.a(-.23,0,t),r=0;r<5;r++)this.appendWithOffset(e,n,i),i.x+=this.tubeDistance;i.x+=this.memoryRegisterMiddleGap;for(var o=0;o<4;o++)this.appendWithOffset(e,n,i),i.x+=this.tubeDistance;return e}},{key:"createAccumulatorTubeRow",value:function(){for(var t=[],e=this.createTube(this.tubeRadius,this.tubeHeight),n=new k.a(-.15,0,.1),i=0;i<8;i++)this.appendWithOffset(t,e,n),n.x+=this.tubeDistance;return t}},{key:"createMemoryUnit",value:function(){for(var t=[],e=0;e<5;e++){var n=this.createTubeRow(e*this.tubeDistance-.22);this.append(t,n)}for(var i=5;i<10;i++){var r=this.createTubeRow(i*this.tubeDistance-.165);this.append(t,r)}return t}},{key:"createAccumulator",value:function(){return this.createAccumulatorTubeRow()}}]),i}(_.a)).tubeDistance=.0425,v.tubeRadius=.015,v.tubeHeight=.05,v.memoryRegisterMiddleGap=.1,v),j=function(t){n(i,t);var e=r(i);function i(t,n,r,o,s,a){var u;d(this,i),(u=e.call(this,a)).position=s;var c=P.a.withMesh(t,a);c.color=[.5,.5,.5,1],c.worldTransform=S.a.rotationX(Math.PI/2).multiply(S.a.translation(s));var l=P.a.withMesh(new m.a(_.a.createBox(new k.a(.25,.25,.1)),u.gl),a);l.color=[.5,.5,.5,1],l.worldTransform=S.a.translation(s.add(new k.a(0,0,-.15)));var h=P.a.withMesh(n,a);h.color=[.2,.2,.2,1],h.worldTransform=S.a.rotationX(Math.PI/2).multiply(S.a.translation(s));var f=P.a.withMesh(new m.a(_.a.createBox(new k.a(.05,.035,.02)),u.gl),a);return f.color=[.2,.2,.2,1],f.worldTransform=S.a.translation(s.add(new k.a(.01,0,0))),u.children=[c,l,h,f],u.createRegisters(r,a),u.createStatusLights(o,a),u}return p(i,[{key:"createStatusLights",value:function(t,e){this.storeStatusLight=this.createStatusLight(this.position.add(new k.a(-.02,.015,.02)),t,e),this.storeStatusLight.activeColor=x.activeStoreColor,this.storeStatusLight.passiveColor=x.passiveStoreColor,this.readStatusLight=this.createStatusLight(this.position.add(new k.a(.04,.015,.02)),t,e),this.readStatusLight.activeColor=x.activeReadColor,this.readStatusLight.passiveColor=x.passiveReadColor,this.statusLights=[this.createStatusLight(this.position.add(new k.a(0,.015,.02)),t,e),this.createStatusLight(this.position.add(new k.a(.02,.015,.02)),t,e),this.createStatusLight(this.position.add(new k.a(-.02,0,.02)),t,e),this.createStatusLight(this.position.add(new k.a(0,0,.02)),t,e),this.createStatusLight(this.position.add(new k.a(.02,0,.02)),t,e),this.createStatusLight(this.position.add(new k.a(.04,0,.02)),t,e),this.createStatusLight(this.position.add(new k.a(-.02,-.015,.02)),t,e),this.createStatusLight(this.position.add(new k.a(0,-.015,.02)),t,e),this.createStatusLight(this.position.add(new k.a(.02,-.015,.02)),t,e),this.createStatusLight(this.position.add(new k.a(.04,-.015,.02)),t,e)]}},{key:"createStatusLight",value:function(t,e,n){return new x(e,t,n)}},{key:"createRegisters",value:function(t,e){this.registers=[];for(var n=this.position.add(new k.a(-.23,-.2175,0)),i=0;i<5;i++){var r=this.createIndicators(t,e),o=new I(r);this.setIndicatorPositions(o,n),this.registers[i]=o,n=n.add(new k.a(0,T.tubeDistance,0))}n=n.add(new k.a(0,.055,0));for(var s=5;s<10;s++){var a=this.createIndicators(t,e),u=new I(a);this.setIndicatorPositions(u,n),this.registers[s]=u,n=n.add(new k.a(0,T.tubeDistance,0))}}},{key:"createIndicators",value:function(t,e){for(var n=[],i=0;i<9;i++)n[i]=new M(t,e);return n}},{key:"setIndicatorPositions",value:function(t,e){for(var n=e.copy(),i=0;i<5;i++)t.indicators[i].position=n.copy(),n.x+=T.tubeDistance;n.x+=T.memoryRegisterMiddleGap;for(var r=5;r<9;r++)t.indicators[r].position=n.copy(),n.x+=T.tubeDistance}},{key:"draw",value:function(){this.children.forEach(function(t){t.draw()}),this.renderingContext.emitterShader.use(),this.registers.forEach(function(t){var e,n=c(t.indicators);try{for(n.s();!(e=n.n()).done;){e.value.draw()}}catch(i){n.e(i)}finally{n.f()}}),this.storeStatusLight.draw(),this.readStatusLight.draw(),this.statusLights.forEach(function(t){t.draw()}),this.renderingContext.standardShader.use()}}]),i}(P.a),R=function(){function t(e){d(this,t),this.processor=e}return p(t,[{key:"disassemble",value:function(t){return(t/1e3).toString().padStart(5,"0")+" "+this.disassembleInstruction(t)}},{key:"disassembleInstruction",value:function(t){switch(A.getOperation(t)){case 0:return this.disassembleControl(t);case 1:return this.disassembleAdd(t);case 2:return this.disassembleAddAndClear(t);case 3:return this.disassembleSubtract(t);case 4:return this.disassembleSubtractAndClear(t);case 5:return this.disassembleMultiply(t);case 6:return this.disassembleDivide(t);case 7:return this.disassembleTransferPositiveModulus(t);default:throw new Error("Unknown order "+A.getOrderCode(t))}}},{key:"disassembleControl",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t);if(e>=30&&e<=39)return"SEARCH for block "+e%10+" on tape "+n;if(e>=50&&e<=59)return"CONDITIONAL SEARCH for block "+e%10+" on tape "+n+" ("+(this.processor.state.yes?"YES":"NO")+")";if(e>=70&&e<=79)return"PRINT LAYOUT "+e%10;if(e>=81&&e<=89){var i=-e%10+2;return"SELECT SHIFT POSITION "+String.fromCharCode("A".charCodeAt(0)-i+1)+" (10^"+i+")"}switch(e){case 1:if(0===n)return"FINISH";case 11:return"TEST POSITIVE ["+n+"] ("+this.format(this.processor.peek(n))+")";case 12:return"TEST NEGATIVE ["+n+"] ("+this.format(this.processor.peek(n))+")";case 21:return"TRANSFER to "+(n<10?"tape ":"")+n;case 22:return"CONDITIONAL TRANSFER to "+n+" ("+(this.processor.state.yes?"YES":"NO")+")";case 85:return"SHIFT";default:throw new Error("Unknown control order "+A.getOrderCode(t))}}},{key:"disassembleAdd",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peekAhead(e),r=this.format(i);if(1===n)return"PRINT ["+e+"] ("+r+")";var o=this.processor.peek(n);return"["+n+"] += ["+e+"] ("+this.format(o)+" + "+r+" = "+this.format(o+i)+")"}},{key:"disassembleAddAndClear",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peekAhead(e),r=this.format(i);if(0===n)return"CLEAR ["+e+"] ("+r+")";if(1===n)return"PRINT ["+e+"] ("+r+")";var o=this.processor.peek(n);return"["+n+"] += ["+e+"]; CLEAR ["+e+"] ("+this.format(o)+" + "+r+" = "+this.format(o+i)+")"}},{key:"disassembleSubtract",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peekAhead(e),r=this.format(i);if(0===n)return"CLEAR ["+e+"] ("+r+")";if(1===n)return"PRINT ["+e+"] ("+r+")";var o=this.processor.peek(n);return"["+n+"] -= ["+e+"]; CLEAR ["+e+"] ("+this.format(o)+" - "+r+" = "+this.format(o-i)+")"}},{key:"disassembleSubtractAndClear",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peekAhead(e),r=this.processor.peek(n);return"["+n+"] -= ["+e+"] ("+this.format(r)+" - "+this.format(i)+" = "+this.format(r-i)+")"}},{key:"disassembleMultiply",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peek(e),r=this.processor.peek(n);return"[09] = ["+e+"] * ["+n+"] ("+this.format(r)+" * "+this.format(r)+" = "+this.format(i*r/1e7)+")"}},{key:"disassembleDivide",value:function(t){var e=A.getAddressA(t),n=A.getAddressB(t),i=this.processor.peek(9),r=this.processor.peek(e),o=this.format(i),s=this.format(r);return"["+n+"] = [09] / ["+e+"] ("+o+" / "+s+" = "+this.format(i/r*1e7)+"); [09] = [09] % ["+e+"] ("+o+" % "+s+" = "+this.format(i%r)+")"}},{key:"disassembleTransferPositiveModulus",value:function(t){var e=A.getAddressA(t);return this.processor.peek(e)<0?"TRANSFER POSITIVE MODULUS: "+this.disassembleSubtract(t):"TRANSFER POSITIVE MODULUS: "+this.disassembleAdd(t)}},{key:"format",value:function(t){return t>=1&&t<=9?"0.000000"+t:t>=-9&&t<=-1?"-0.000000"+-t:(t/1e7).toString()}}]),t}(),D=function t(e,n,i){d(this,t),this.id=e,this.title=n,this.text=i},L=function(){function t(){d(this,t)}return p(t,null,[{key:"programList",get:function(){return[new D("1","Example program 1","\n[1]\n20900\n21000\n22000\n23000\n24000\n25000\n10110\n+10000000\n10120\n+01000000\n10130\n+15500000\n03202\n02102\n\n==tape\n[2]\n11040\n51040\n07300\n11001\n07400\n10901\n12010\n13040\n31040\n01140\n24000\n20900\n05202\n00100"),new D("2","Example program 2","\n[1]\n20900\n21000\n22000\n23000\n24000\n25000\n10110\n+05000000\n10120\n+90000000\n10130\n+10000000\n10140\n+20000000\n11050\n03202\n02102\n\n==tape\n[2]\n07400\n11001\n33020\n01220\n05303\n02203\n25009\n64050\n20900\n15010\n03202\n\n==tape\n[3]\n00100")]}}]),t}(),N=function(t){n(i,t);var e=r(i);function i(t,n,r,o,s){var a;d(this,i),(a=e.call(this,s)).position=o;var u=P.a.withMesh(t,s);u.color=[.5,.5,.5,1],u.worldTransform=S.a.rotationX(Math.PI/2).multiply(S.a.translation(o));var c=P.a.withMesh(new m.a(_.a.createBox(new k.a(.25,.25,.1)),a.gl),s);c.color=[.5,.5,.5,1],c.worldTransform=S.a.translation(o.add(new k.a(0,0,-.15)));var l=P.a.withMesh(n,s);return l.color=[.2,.2,.2,1],l.worldTransform=S.a.rotationX(Math.PI/2).multiply(S.a.translation(o)),a.children=[u,c,l],a.createRegister(r,s),a}return p(i,[{key:"createRegister",value:function(t,e){var n=this.position.add(new k.a(-.15,-.1,0)),i=this.createIndicators(t,e);this.register=new I(i),this.setIndicatorPositions(n)}},{key:"createIndicators",value:function(t,e){for(var n=[],i=0;i<8;i++)n[i]=new M(t,e);return n}},{key:"setIndicatorPositions",value:function(t){for(var e=t.copy(),n=0;n<8;n++)this.register.indicators[n].position=e.copy(),e.x+=T.tubeDistance}},{key:"draw",value:function(){this.children.forEach(function(t){t.draw()}),this.renderingContext.emitterShader.use();var t,e=c(this.register.indicators);try{for(e.s();!(t=e.n()).done;){t.value.draw()}}catch(n){e.e(n)}finally{e.f()}this.renderingContext.standardShader.use()}}]),i}(P.a),F=function(i){n(s,i);var o=r(s);function s(e){var n;d(this,s),(n=o.call(this,e)).isSingleStepping=!0,n.isSingleStepDone=!0,n.isInErrorState=!1,n.programList=L.programList,n.processor=new V,n.disassembler=new R(n.processor);var i=new m.a(_.a.createCase(new k.a(.25,.05,.25)),e.gl),r=new m.a(T.createMemoryUnit(),e.gl),a=new m.a(_.a.createBox(new k.a(.0025,.003,.0036)),e.gl),u=new m.a(_.a.createBox(new k.a(.003,.003,.0036)),e.gl),c=new m.a(T.createAccumulator(),e.gl),l=n.createMemoryUnitNode(i,r,a,u,new k.a(-.5,-.5,0)),h=n.createMemoryUnitNode(i,r,a,u,new k.a(-.5,0,0)),f=n.createMemoryUnitNode(i,r,a,u,new k.a(-.5,.5,0)),p=n.createMemoryUnitNode(i,r,a,u,new k.a(-.5,1,0)),v=n.createMemoryUnitNode(i,r,a,u,new k.a(-1,-.5,0)),g=n.createMemoryUnitNode(i,r,a,u,new k.a(-1,0,0)),y=n.createMemoryUnitNode(i,r,a,u,new k.a(-1,.5,0)),b=n.createMemoryUnitNode(i,r,a,u,new k.a(-1,1,0)),w=n.createMemoryUnitNode(i,r,a,u,new k.a(-1.5,1,0));return n.accumulator8=n.createAccumulatorNode(i,c,a,new k.a(0,-.35,0)),n.accumulator9=n.createAccumulatorNode(i,c,a,new k.a(0,.5,0)),n.memoryBanks=[l,h,f,p,v,g,y,b,w],n.nodes=[].concat(t(n.memoryBanks),[n.accumulator8,n.accumulator9]),n.light.position=new k.a(.5,2,.5),n.camera.eye=new k.a(0,.5,3.3),n.camera.target=new k.a(0,.25,0),n.clearColor=[.1,.1,.1,1],n.camera.orthoScaling=2.7,n.loadFirstProgram(),n}return p(s,[{key:"createMemoryUnitNode",value:function(t,e,n,i,r){return new j(t,e,n,i,r,this.renderingContext)}},{key:"createAccumulatorNode",value:function(t,e,n,i){return new N(t,e,n,i,this.renderingContext)}},{key:"onProgramChange",value:function(t){this.selectedProgram=t,this.resetProgram()}},{key:"loadFirstProgram",value:function(){this.onProgramChange(this.programList[0].id)}},{key:"resetProgram",value:function(){this.processor.setProgram(this.findSelectedProgram().text),this.processor.output=[""],this.isSingleStepping=!0,this.isSingleStepDone=!0,this.isInErrorState=!1,this.errorText=void 0,this.processor.state.finished=!1,this.processor.state.tapeNumber=1,this.processor.state.shiftPosition=0,this.setIndicatorsPassive(),this.disassembleNextInstruction()}},{key:"findSelectedProgram",value:function(){var t=this;return this.programList.find(function(e){return e.id===t.selectedProgram})}},{key:"draw",value:function(t){e(a(s.prototype),"draw",this).call(this,t);try{this.isInErrorState||this.runProcessorForFrame()}catch(n){console.error(n),this.errorText=n.message,this.isInErrorState=!0}this.copyStateToRenderObject(),this.renderingContext.standardShader.use(),this.nodes.forEach(function(t){t.draw()})}},{key:"stepProcessor",value:function(){this.isSingleStepping=!0,this.isSingleStepDone=!1}},{key:"runProcessor",value:function(){this.isSingleStepping=!this.isSingleStepping}},{key:"runProcessorForFrame",value:function(){this.isSingleStepping?this.isSingleStepDone||(this.processor.step(),this.disassembleNextInstruction(),this.isSingleStepDone=!0):(this.processor.step(),this.disassembleNextInstruction()),this.processor.state.finished&&(this.isSingleStepping=!0)}},{key:"copyStateToRenderObject",value:function(){var t=this.processor.peekNextEntry(),e=A.getOperation(t),n=A.getAddressA(t),i=A.getAddressB(t),r=0!==e,o=2===e||4===e;this.accumulator8.register.value=this.processor.peek(8),this.accumulator9.register.value=this.processor.peek(9);for(var s=0;s<9;s++){for(var a=this.memoryBanks[s],u=!1,c=!1,l=0;l<10;l++){var h=10*(s+1)+l;a.registers[l].value=this.processor.peek(h);var d=!1;r&&(h==n&&(u=!0,d=!0,o&&(c=!0,d=!0)),h==i&&(c=!0,d=!0)),a.statusLights[l].status=d}a.readStatusLight.status=u,a.storeStatusLight.status=c}}},{key:"setIndicatorsPassive",value:function(){for(var t=0;t<9;t++)for(var e=this.memoryBanks[t],n=0;n<10;n++){var i=e.registers[n];0!==i.value&&void 0!==i.value||(i.value=null)}}},{key:"disassembleNextInstruction",value:function(){var t;t=this.processor.state.tapeNumber>7?this.processor.state.get(this.processor.state.tapeNumber):this.processor.currentTape.peek(),this.nextInstructionText=this.processor.state.finished?"(finished)":this.disassembler.disassemble(t),console.log(this.nextInstructionText)}}]),s}(w.a),B=l("4u2P"),H=l("fXoL"),U=l("HDdC"),z=l("EY2u"),Q=l("LRne"),W=l("XNiG"),X=l("DH7j"),G=l("n6bG"),K=l("lJxs");function $(e,n,i,r){return Object(G.a)(i)&&(r=i,i=void 0),r?$(e,n,i).pipe(Object(K.a)(function(e){return Object(X.a)(e)?r.apply(void 0,t(e)):r(e)})):new U.a(function(t){J(e,n,function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},t,i)})}function J(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,r),o=function(){return s.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,n),o=function(){return a.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)J(t[c],e,n,i,r)}i.add(o)}var q=function(t){n(i,t);var e=r(i);function i(t,n){var r;return d(this,i),(r=e.call(this,t,n)).scheduler=t,r.work=n,r.pending=!1,r}return p(i,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),i}(function(t){n(i,t);var e=r(i);function i(t,n){return d(this,i),e.call(this)}return p(i,[{key:"schedule",value:function(t){return this}}]),i}(l("quSY").a)),Y=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;d(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Z=new(function(t){n(o,t);var i=r(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.now;return d(this,o),(e=i.call(this,t,function(){return o.delegate&&o.delegate!==s(e)?o.delegate.now():n()})).actions=[],e.active=!1,e.scheduled=void 0,e}return p(o,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return o.delegate&&o.delegate!==this?o.delegate.schedule(t,n,i):e(a(o.prototype),"schedule",this).call(this,t,n,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),o}(Y))(q);function tt(t){return!Object(X.a)(t)&&t-parseFloat(t)+1>=0}var et=l("z+Ro");function nt(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}var it=l("yCtX"),rt=l("l7GE"),ot=l("ZUHj"),st=function(){function t(){d(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new at(t))}}]),t}(),at=function(t){n(i,t);var e=r(i);function i(t){var n;return d(this,i),(n=e.call(this,t)).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return p(i,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=t[n],r=Object(ot.a)(this,i,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(e)}}]),i}(rt.a);l("2Vo4"),l("itXk"),l("KqfI");var ut=l("7o/Q"),ct=l("Lhse"),lt=l("zx2A");function ht(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return"function"==typeof i&&e.pop(),Object(it.a)(e,void 0).lift(new dt(i))}var dt=function(){function t(e){d(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ft(t,this.resultSelector))}}]),t}(),ft=function(t){n(i,t);var e=r(i);function i(t,n){var r;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return d(this,i),(r=e.call(this,t)).resultSelector=n,r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:void 0,r}return p(i,[{key:"_next",value:function(t){var e=this.iterators;Object(X.a)(t)?e.push(new vt(t)):e.push("function"==typeof t[ct.a]?new pt(t[ct.a]()):new gt(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++){var r=t[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var o=!1,s=[],a=0;a<e;a++){var u=t[a],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();s.push(c.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),i}(ut.a),pt=function(){function t(e){d(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),vt=function(){function t(e){d(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:ct.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),gt=function(t){n(i,t);var e=r(i);function i(t,n,r){var o;return d(this,i),(o=e.call(this,t)).parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(i,[{key:ct.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(lt.c)(this.observable,new lt.a(this))}}]),i}(lt.b);l("VRyK");var yt=l("GyhO");function bt(t){return function(e){return e.lift(new mt(t))}}var mt=function(){function t(e){d(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new _t(t),i=Object(lt.c)(this.notifier,new lt.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),_t=function(t){n(i,t);var e=r(i);function i(t){var n;return d(this,i),(n=e.call(this,t)).seenValue=!1,n}return p(i,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),i}(lt.b),kt=l("pLZG"),wt=l("IzEk");l("JX91");var Ct=l("eIep"),At=l("vkgz");function Ot(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Et(e,n))}}var Et=function(){function t(e,n){d(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Vt(t,this.observables,this.project))}}]),t}(),Vt=function(e){n(o,e);var i=r(o);function o(t,e,n){var r;d(this,o),(r=i.call(this,t)).observables=e,r.project=n,r.toRespond=[];var a=e.length;r.values=new Array(a);for(var u=0;u<a;u++)r.toRespond.push(u);for(var c=0;c<a;c++){var l=e[c];r.add(Object(ot.a)(s(r),l,void 0,c))}return r}return p(o,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var n=[e].concat(t(this.values));this.project?this._tryProject(n):this.destination.next(n)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),o}(rt.a);l("5+tZ"),l("w1tV");var St=l("Cfvw"),Pt=l("XoHu");function xt(t,e){return new U.a(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var u=Object(St.a)(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),r[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&c||(s===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},u=0;u<i;u++)a(u);else n.complete()})}var Mt,It=function t(){d(this,t)},Tt=new H.r("NgValueAccessor"),jt={provide:Tt,useExisting:Object(H.T)(function(){return Dt}),multi:!0},Rt=new H.r("CompositionEventMode"),Dt=((Mt=function(){function t(e,n,i){var r;d(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(g.y)()?Object(g.y)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Mt)(H.Lb(H.E),H.Lb(H.l),H.Lb(Rt,8))},Mt.\u0275dir=H.Gb({type:Mt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&H.ac("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[H.yb([jt])]}),Mt),Lt=new H.r("NgValidators"),Nt=new H.r("NgAsyncValidators");function Ft(t){return null!=t}function Bt(t){var e=Object(H.qb)(t)?Object(St.a)(t):t;return Object(H.pb)(e),e}function Ht(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ut(t,e){return e.map(function(e){return e(t)})}function zt(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Qt(t){return null!=t?function(t){if(!t)return null;var e=t.filter(Ft);return 0==e.length?null:function(t){return Ht(Ut(t,e))}}(zt(t)):null}function Wt(e){return null!=e?function(e){if(!e)return null;var n=e.filter(Ft);return 0==n.length?null:function(e){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(1===n.length){var r=n[0];if(Object(X.a)(r))return xt(r,null);if(Object(Pt.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var o=Object.keys(r);return xt(o.map(function(t){return r[t]}),o)}}if("function"==typeof n[n.length-1]){var s=n.pop();return xt(n=1===n.length&&Object(X.a)(n[0])?n[0]:n,null).pipe(Object(K.a)(function(e){return s.apply(void 0,t(e))}))}return xt(n,null)}(Ut(e,n).map(Bt)).pipe(Object(K.a)(Ht))}}(zt(e)):null}function Xt(e,n){return null===e?[n]:Array.isArray(e)?[].concat(t(e),[n]):[e,n]}var Gt,Kt,$t,Jt=((Kt=function(){function t(){d(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return p(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Qt(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Wt(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||Kt)},Kt.\u0275dir=H.Gb({type:Kt}),Kt),qt=((Gt=function(t){n(i,t);var e=r(i);function i(){return d(this,i),e.apply(this,arguments)}return p(i,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),i}(Jt)).\u0275fac=function(t){return Yt(t||Gt)},Gt.\u0275dir=H.Gb({type:Gt,features:[H.wb]}),Gt),Yt=H.Sb(qt),Zt=function(t){n(i,t);var e=r(i);function i(){var t;return d(this,i),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return i}(Jt),te=(($t=function(t){n(i,t);var e=r(i);function i(t){return d(this,i),e.call(this,t)}return i}(function(){function t(e){d(this,t),this._cd=e}return p(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}())).\u0275fac=function(t){return new(t||$t)(H.Lb(Zt,2))},$t.\u0275dir=H.Gb({type:$t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&H.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[H.wb]}),$t);function ee(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ne(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ie(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function re(t){return(ue(t)?t.validators:t)||null}function oe(t){return Array.isArray(t)?Qt(t):t||null}function se(t,e){return(ue(e)?e.asyncValidators:t)||null}function ae(t){return Array.isArray(t)?Wt(t):t||null}function ue(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ce,le,he=function(){function t(e,n){d(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=oe(this._rawValidators),this._composedAsyncValidatorFn=ae(this._rawAsyncValidators)}return p(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=oe(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ae(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Bt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach(function(t){i=i instanceof fe?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof pe&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new H.n,this.statusChanges=new H.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ue(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),de=function(t){n(i,t);var e=r(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return d(this,i),(t=e.call(this,re(r),se(o,r)))._onChange=[],t._applyFormState(n),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return p(i,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){ie(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){ie(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),i}(he),fe=function(t){n(i,t);var e=r(i);function i(t,n,r){var o;return d(this,i),(o=e.call(this,re(n),se(r,n))).controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return p(i,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof de?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var i=e.controls[n];i&&t(i,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),i}(he),pe=function(t){n(i,t);var e=r(i);function i(t,n,r){var o;return d(this,i),(o=e.call(this,re(n),se(r,n))).controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return p(i,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof de?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=c(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),i}(he),ve={provide:Zt,useExisting:Object(H.T)(function(){return ye})},ge=Promise.resolve(null),ye=((le=function(e){n(o,e);var i=r(o);function o(t,e,n,r){var s;return d(this,o),(s=i.call(this)).control=new de,s._registered=!1,s.update=new H.n,s._parent=t,s._setValidators(e),s._setAsyncValidators(n),s.valueAccessor=function(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Dt?n=t:Object.getPrototypeOf(t.constructor)===It?i=t:r=t}),r||i||n||null):null;var n,i,r}(0,r),s}return p(o,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(t(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){var t,e;(function(t,e,n){var i=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Xt(i,e.validator)):"function"==typeof i&&t.setValidators([i]);var r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Xt(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);var o=function(){return t.updateValueAndValidity()};ee(e._rawValidators,o),ee(e._rawAsyncValidators,o)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ne(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ne(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;ge.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;ge.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})}}]),o}(Zt)).\u0275fac=function(t){return new(t||le)(H.Lb(qt,9),H.Lb(Lt,10),H.Lb(Nt,10),H.Lb(Tt,10))},le.\u0275dir=H.Gb({type:le,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[H.yb([ve]),H.wb,H.xb]}),le),be=((ce=function t(){d(this,t)}).\u0275fac=function(t){return new(t||ce)},ce.\u0275mod=H.Jb({type:ce}),ce.\u0275inj=H.Ib({}),ce),me={provide:Tt,useExisting:Object(H.T)(function(){return Ce}),multi:!0};function _e(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var ke,we,Ce=((we=function(t){n(i,t);var e=r(i);function i(t,n){var r;return d(this,i),(r=e.call(this))._renderer=t,r._elementRef=n,r._optionMap=new Map,r._idCounter=0,r.onChange=function(t){},r.onTouched=function(){},r._compareWith=Object.is,r}return p(i,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=_e(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),i}(It)).\u0275fac=function(t){return new(t||we)(H.Lb(H.E),H.Lb(H.l))},we.\u0275dir=H.Gb({type:we,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&H.ac("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[H.yb([me]),H.wb]}),we),Ae=((ke=function(){function t(e,n,i){d(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return p(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_e(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}()).\u0275fac=function(t){return new(t||ke)(H.Lb(H.l),H.Lb(H.E),H.Lb(Ce,9))},ke.\u0275dir=H.Gb({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ke),Oe={provide:Tt,useExisting:Object(H.T)(function(){return Me}),multi:!0};function Ee(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Ve,Se,Pe,xe,Me=((xe=function(t){n(i,t);var e=r(i);function i(t,n){var r;return d(this,i),(r=e.call(this))._renderer=t,r._elementRef=n,r._optionMap=new Map,r._idCounter=0,r.onChange=function(t){},r.onTouched=function(){},r._compareWith=Object.is,r}return p(i,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=e._getOptionValue(s.value);i.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),i}(It)).\u0275fac=function(t){return new(t||xe)(H.Lb(H.E),H.Lb(H.l))},xe.\u0275dir=H.Gb({type:xe,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&H.ac("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[H.yb([Oe]),H.wb]}),xe),Ie=((Pe=function(){function t(e,n,i){d(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return p(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Ee(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(Ee(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}()).\u0275fac=function(t){return new(t||Pe)(H.Lb(H.l),H.Lb(H.E),H.Lb(Me,9))},Pe.\u0275dir=H.Gb({type:Pe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Pe),Te=((Se=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Se)},Se.\u0275mod=H.Jb({type:Se}),Se.\u0275inj=H.Ib({imports:[[be]]}),Se),je=((Ve=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Ve)},Ve.\u0275mod=H.Jb({type:Ve}),Ve.\u0275inj=H.Ib({imports:[Te]}),Ve),Re=["*"],De=["dialog"];function Le(t){return null!=t}function Ne(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Fe,Be=!0,He=5,Ue=((Fe=function t(){d(this,t),this.animation=Be}).\u0275fac=function(t){return new(t||Fe)},Fe.\u0275prov=Object(H.Hb)({factory:function(){return new Fe},token:Fe,providedIn:"root"}),Fe),ze=function(){},Qe=He,We=new Map,Xe=function(t,e,n,i){var r=i.context||{},o=We.get(e);if(o)switch(i.runningTransition){case"continue":return z.a;case"stop":t.run(function(){return o.transition$.complete()}),r=Object.assign(o.context,r),We.delete(e)}var s=n(e,i.animation,r)||ze;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return s()}),Object(Q.a)(void 0).pipe(function(t){return function(e){return new U.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var a=new W.a,u=new W.a,c=a.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return Object(yt.a)(t,Object(Q.a).apply(void 0,e))}}(!0));We.set(e,{transition$:a,complete:function(){u.next(),u.complete()},context:r});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,i=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(i))}(e);return t.runOutsideAngular(function(){var n=$(e,"transitionend").pipe(bt(c),Object(kt.a)(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(X.a)(e[0]))return e[0];e=e[0]}return Object(it.a)(e,void 0).lift(new st)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return tt(e)?i=Number(e)<1?1:Number(e):Object(et.a)(e)&&(n=e),Object(et.a)(n)||(n=Z),new U.a(function(e){var r=tt(t)?t:+t-n.now();return n.schedule(nt,r,{index:0,period:i,subscriber:e})})}(l+Qe).pipe(bt(c)),n,u).pipe(bt(c)).subscribe(function(){We.delete(e),t.run(function(){s(),a.next(),a.complete()})})}),a.asObservable()},Ge=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Ke=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $e(t){var e=Array.from(t.querySelectorAll(Ke)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){d(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var r=this.offsetParent(t);e=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return e.top-=i.top,e.bottom-=i.top,e.left-=i.left,e.right-=i.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,e,n,i){var r=u(n.split("-"),2),o=r[0],s=void 0===o?"top":o,a=r[1],c=void 0===a?"center":a,l=i?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),d=parseFloat(h.marginTop),f=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,y=0;switch(s){case"top":g=l.top-(e.offsetHeight+d+f);break;case"bottom":g=l.top+l.height;break;case"left":y=l.left-(e.offsetWidth+p+v);break;case"right":y=l.left+l.width}switch(c){case"top":g=l.top;break;case"bottom":g=l.top+l.height-e.offsetHeight;break;case"left":y=l.left;break;case"right":y=l.left+l.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?y=l.left+l.width/2-e.offsetWidth/2:g=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(g),"px)");var b=e.getBoundingClientRect(),m=document.documentElement,_=window.innerHeight||m.clientHeight,k=window.innerWidth||m.clientWidth;return b.left>=0&&b.top>=0&&b.right<=k&&b.bottom<=_}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var Je,qe,Ye,Ze,tn,en,nn=((Je=function(){function t(e){d(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||Je)(H.Xb(Ue))},Je.\u0275prov=Object(H.Hb)({factory:function(){return new Je(Object(H.Xb)(Ue))},token:Je,providedIn:"root"}),Je),rn=function t(e,n,i){d(this,t),this.nodes=e,this.viewRef=n,this.componentRef=i},on=function(){},sn=((Ye=function(){function t(e){d(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):on}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(i+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||Ye)(H.Xb(g.c))},Ye.\u0275prov=Object(H.Hb)({factory:function(){return new Ye(Object(H.Xb)(g.c))},token:Ye,providedIn:"root"}),Ye),an=((qe=function(){function t(e,n){d(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(Object(wt.a)(1)).subscribe(function(){Xe(t._zone,t._el.nativeElement,function(t,e){e&&Ne(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return Xe(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||qe)(H.Lb(H.l),H.Lb(H.A))},qe.\u0275cmp=H.Fb({type:qe,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(H.Bb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),H.Db("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),qe),un=function(){function t(){d(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),cn=function(){function t(e,n,i,r){var o=this;d(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new W.a,this._dismissed=new W.a,this._hidden=new W.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(bt(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(bt(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Q.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),ht(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),ln=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),hn=((en=function(){function t(e,n,i){d(this,t),this._document=e,this._elRef=n,this._zone=i,this._closed$=new W.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new H.n,this.shown=new W.a,this.hidden=new W.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},i=ht(Xe(this._zone,e,function(){return e.classList.remove("show")},n),Xe(this._zone,this._dialogEl.nativeElement,function(){},n));return i.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};ht(Xe(this._zone,this._elRef.nativeElement,function(t,e){e&&Ne(t),t.classList.add("show")},e),Xe(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){$(e,"keydown").pipe(bt(t._closed$),Object(kt.a)(function(t){return t.which===Ge.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(ln.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;$(t._dialogEl.nativeElement,"mousedown").pipe(bt(t._closed$),Object(At.a)(function(){return n=!1}),Object(Ct.a)(function(){return $(e,"mouseup").pipe(bt(t._closed$),Object(wt.a)(1))}),Object(kt.a)(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),$(e,"click").pipe(bt(t._closed$)).subscribe(function(i){var r=i.target;e===r&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(ln.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=$e(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,i=this._elWithFocus;t=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&Xe(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||en)(H.Lb(g.c),H.Lb(H.l),H.Lb(H.A))},en.\u0275cmp=H.Fb({type:en,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&H.zc(De,3),2&t&&H.nc(n=H.bc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(H.Ab("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),H.Bb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),H.Db("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Re,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(H.gc(),H.Qb(0,"div",0,1),H.Qb(2,"div",2),H.fc(3),H.Pb(),H.Pb()),2&t&&H.Bb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),en),dn=((tn=function(){function t(e,n,i,r,o,s){var a=this;d(this,t),this._applicationRef=e,this._injector=n,this._document=i,this._scrollBar=r,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new W.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new H.n,this._activeWindowCmptHasChanged.subscribe(function(){if(a._windowCmpts.length){var t=a._windowCmpts[a._windowCmpts.length-1];(function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a._ngZone.runOutsideAngular(function(){var t=$(e,"focusin").pipe(bt(n),Object(K.a)(function(t){return t.target}));$(e,"keydown").pipe(bt(n),Object(kt.a)(function(t){return t.which===Ge.Tab}),Ot(t)).subscribe(function(t){var n=u(t,2),i=n[0],r=n[1],o=u($e(e),2),s=o[0],a=o[1];r!==s&&r!==e||!i.shiftKey||(a.focus(),i.preventDefault()),r!==a||i.shiftKey||(s.focus(),i.preventDefault())}),i&&$(e,"click").pipe(bt(n),Ot(t),Object(K.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,a._activeWindowCmptHasChanged),a._revertAriaHidden(),a._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,i){var r=this,o=i.container instanceof HTMLElement?i.container:Le(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),u=function(){r._modalRefs.length||(s.removeClass(r._document.body,"modal-open"),r._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var c=new un,l=this._getContentRef(t,i.injector||e,n,c,i),h=!1!==i.backdrop?this._attachBackdrop(t,o):void 0,d=this._attachWindowComponent(t,o,l),f=new cn(d,l,h,i.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.result.then(a,a),f.result.then(u,u),c.close=function(t){f.close(t)},c.dismiss=function(t){f.dismiss(t)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,i),f}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(an).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var i=t.resolveComponentFactory(hn).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){Le(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){Le(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,i,r){return n?n instanceof H.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,r):new rn([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new rn([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new rn([[e]])}},{key:"_createFromComponent",value:function(t,e,n,i,r){var o=t.resolveComponentFactory(n),s=H.s.create({providers:[{provide:un,useValue:i}],parent:e}),a=o.create(s),u=a.location.nativeElement;return r.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new rn([[u]],a.hostView,a)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||tn)(H.Xb(H.g),H.Xb(H.s),H.Xb(g.c),H.Xb(sn),H.Xb(H.F),H.Xb(H.A))},tn.\u0275prov=Object(H.Hb)({factory:function(){return new tn(Object(H.Xb)(H.g),Object(H.Xb)(H.o),Object(H.Xb)(g.c),Object(H.Xb)(sn),Object(H.Xb)(H.F),Object(H.Xb)(H.A))},token:tn,providedIn:"root"}),tn),fn=((Ze=function(){function t(e,n,i,r){d(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=i,this._config=r}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||Ze)(H.Xb(H.j),H.Xb(H.s),H.Xb(dn),H.Xb(nn))},Ze.\u0275prov=Object(H.Hb)({factory:function(){return new Ze(Object(H.Xb)(H.j),Object(H.Xb)(H.o),Object(H.Xb)(dn),Object(H.Xb)(nn))},token:Ze,providedIn:"root"}),Ze);function pn(t,e){if(1&t&&(H.Qb(0,"p",9),H.vc(1),H.Pb()),2&t){var n=H.cc();H.zb(1),H.wc(n.errorText)}}new H.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var vn,gn=((vn=function(){function t(e){d(this,t),this.modalService=e}return p(t,[{key:"ngOnInit",value:function(){this.programText=this.program.text}},{key:"save",value:function(){try{E.assemble(this.programText)}catch(t){return this.errorText=t.message,void console.log(t.message)}this.program.text=this.programText,this.dismiss()}},{key:"dismiss",value:function(){this.modalService.dismissAll()}}]),t}()).\u0275fac=function(t){return new(t||vn)(H.Lb(fn))},vn.\u0275cmp=H.Fb({type:vn,selectors:[["tape-editor-component"]],inputs:{program:"program"},decls:13,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["rows","20","name","programText",2,"width","100%",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"text-danger"]],template:function(t,e){1&t&&(H.Qb(0,"div",0),H.Qb(1,"h4",1),H.vc(2),H.Pb(),H.Qb(3,"button",2),H.ac("click",function(){return e.dismiss()}),H.Qb(4,"span",3),H.vc(5,"\xd7"),H.Pb(),H.Pb(),H.Pb(),H.Qb(6,"div",4),H.Qb(7,"textarea",5),H.ac("ngModelChange",function(t){return e.programText=t}),H.vc(8,"    "),H.Pb(),H.tc(9,pn,2,1,"p",6),H.Pb(),H.Qb(10,"div",7),H.Qb(11,"button",8),H.ac("click",function(){return e.save()}),H.vc(12,"Save"),H.Pb(),H.Pb()),2&t&&(H.zb(2),H.xc("Tape editor: ",e.program.title,""),H.zb(5),H.hc("ngModel",e.programText),H.zb(2),H.hc("ngIf",e.errorText))},directives:[Dt,te,ye,g.k],encapsulation:2}),vn),yn=l("jhN1"),bn=l("S8xs");function mn(t,e){if(1&t&&(H.Qb(0,"option",18),H.vc(1),H.Pb()),2&t){var n=e.$implicit;H.hc("value",n.id),H.zb(1),H.wc(n.title)}}function _n(t,e){if(1&t&&(H.Qb(0,"p",19),H.vc(1),H.Pb()),2&t){var n=H.cc();H.zb(1),H.wc(n.scene.errorText)}}function kn(t,e){if(1&t&&(H.Qb(0,"p",13),H.vc(1),H.Mb(2,"br"),H.Pb()),2&t){var n=e.$implicit;H.zb(1),H.wc(n)}}var wn,Cn,An,On=[{path:"",component:(wn=function(){function t(e,n){d(this,t),this.titleService=e,this.modalService=n,this.isOrtographicProjection=!1,e.setTitle("Harwell Dekatron")}return p(t,[{key:"ngOnInit",value:function(){var t=this.appCanvas.surface.nativeElement.getContext("webgl");if(t){var e=new B.a(t);this.scene=new F(e),this.appCanvas.setScene(this.scene)}}},{key:"onChangeOrtographicProjection",value:function(){this.isOrtographicProjection=!this.isOrtographicProjection,this.scene.camera.orthographic=this.isOrtographicProjection}},{key:"editTape",value:function(){this.modalService.open(gn).componentInstance.program=this.scene.findSelectedProgram()}}]),t}(),wn.\u0275fac=function(t){return new(t||wn)(H.Lb(yn.b),H.Lb(fn))},wn.\u0275cmp=H.Fb({type:wn,selectors:[["harwell-component"]],viewQuery:function(t,e){var n;1&t&&H.zc(b.a,3),2&t&&H.nc(n=H.bc())&&(e.appCanvas=n.first)},decls:45,vars:13,consts:[["id","bodyContainer"],["id","leftPanel"],[3,"isAnimated"],[3,"isOpen"],["accordion-heading","","type","button",1,"btn","btn-link","btn-block","clearfix"],[1,"badge","badge-arrow","float-left"],[1,"float-left"],[1,"mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-toolbar","mb-3"],["type","button",1,"btn","btn-primary","btn-sm","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-4",3,"disabled","click"],[1,"mb-0"],[2,"min-height","5em"],["class","text-danger",4,"ngIf"],["class","mb-0",4,"ngFor","ngForOf"],["value","ds","type","checkbox",3,"checked","change"],[3,"value"],[1,"text-danger"]],template:function(t,e){1&t&&(H.Qb(0,"div",0),H.Qb(1,"div",1),H.Qb(2,"accordion",2),H.Qb(3,"accordion-group",3),H.Qb(4,"button",4),H.Qb(5,"span",5),H.vc(6,"\u2b9e"),H.Pb(),H.Qb(7,"span",6),H.vc(8,"Control"),H.Pb(),H.Pb(),H.Qb(9,"select",7),H.ac("change",function(t){return e.scene.onProgramChange(t.target.value)}),H.tc(10,mn,2,2,"option",8),H.Pb(),H.Qb(11,"div",9),H.Qb(12,"button",10),H.ac("click",function(){return e.editTape()}),H.vc(13,"Edit "),H.Pb(),H.Qb(14,"button",10),H.ac("click",function(){return e.scene.resetProgram()}),H.vc(15,"Reload "),H.Pb(),H.Pb(),H.Mb(16,"hr"),H.Qb(17,"div",9),H.Qb(18,"button",11),H.ac("click",function(){return e.scene.stepProcessor()}),H.vc(19,"Step"),H.Pb(),H.Qb(20,"button",12),H.ac("click",function(){return e.scene.runProcessor()}),H.vc(21),H.Pb(),H.Mb(22,"br"),H.Pb(),H.Qb(23,"p",13),H.vc(24),H.Pb(),H.Qb(25,"p",14),H.vc(26),H.Pb(),H.tc(27,_n,2,1,"p",15),H.Pb(),H.Qb(28,"accordion-group",3),H.Qb(29,"button",4),H.Qb(30,"span",5),H.vc(31,"\u2b9e"),H.Pb(),H.Qb(32,"span",6),H.vc(33,"Output"),H.Pb(),H.Pb(),H.tc(34,kn,3,1,"p",16),H.Pb(),H.Qb(35,"accordion-group"),H.Qb(36,"button",4),H.Qb(37,"span",5),H.vc(38,"\u2b9e"),H.Pb(),H.Qb(39,"span",6),H.vc(40,"Settings"),H.Pb(),H.Pb(),H.Qb(41,"label"),H.Qb(42,"input",17),H.ac("change",function(){return e.onChangeOrtographicProjection()}),H.Pb(),H.vc(43," Orthographic projection "),H.Pb(),H.Pb(),H.Pb(),H.Pb(),H.Mb(44,"app-canvas"),H.Pb()),2&t&&(H.zb(2),H.hc("isAnimated",!0),H.zb(1),H.hc("isOpen",!0),H.zb(7),H.hc("ngForOf",e.scene.programList),H.zb(8),H.hc("disabled",e.scene.processor.state.finished),H.zb(2),H.hc("disabled",e.scene.processor.state.finished),H.zb(1),H.xc(" ",e.scene.isSingleStepping?"Run":"Stop"," "),H.zb(3),H.yc("Tape ",e.scene.processor.state.tapeNumber,", block ",e.scene.processor.currentBlockNumber,""),H.zb(2),H.xc("Order: ",e.scene.nextInstructionText,""),H.zb(1),H.hc("ngIf",e.scene.isInErrorState),H.zb(1),H.hc("isOpen",!0),H.zb(6),H.hc("ngForOf",e.scene.processor.output),H.zb(8),H.hc("checked",e.isOrtographicProjection))},directives:[bn.a,bn.c,g.j,g.k,b.a,Ae,Ie],styles:["#leftPanel[_ngcontent-%COMP%]{width:350px;height:768px;float:left;overflow-y:auto;white-space:normal}#bodyContainer[_ngcontent-%COMP%]{white-space:nowrap}.badge-arrow[_ngcontent-%COMP%]{margin-top:4px;transition-duration:.2s;transition-property:transform}.panel-open[_ngcontent-%COMP%]   .badge-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}ul[_ngcontent-%COMP%]{padding-left:25px}.gear-group-a[_ngcontent-%COMP%]{background-color:#99801a}.gear-group-l[_ngcontent-%COMP%]{background-color:#e6801a}.gear-group-n[_ngcontent-%COMP%]{background-color:#40bf4d}.gear-group-o[_ngcontent-%COMP%]{background-color:#fff}.gear-group-p[_ngcontent-%COMP%]{background-color:#80bf33}.gear-group-e[_ngcontent-%COMP%]{background-color:#7366b3}.gear-group-h[_ngcontent-%COMP%]{background-color:#a666b3}.gear-group-c[_ngcontent-%COMP%]{background-color:#80bfe6}.gear-group-k[_ngcontent-%COMP%]{background-color:#73ccbf}"]}),wn)}],En=((Cn=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Cn)},Cn.\u0275mod=H.Jb({type:Cn}),Cn.\u0275inj=H.Ib({imports:[[y.a.forChild(On)],y.a]}),Cn),Vn=l("YP2Z"),Sn=((An=function t(){d(this,t)}).\u0275fac=function(t){return new(t||An)},An.\u0275mod=H.Jb({type:An}),An.\u0275inj=H.Ib({imports:[[g.b,En,Vn.a,bn.b.forRoot(),je]]}),An)}}])}();